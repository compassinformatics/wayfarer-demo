import"./bootstrap.min-e8f71853.js";import{V as d,a as w,b as i,F as u,R as y,S as m,D as S,p,c as b,d as x,G as h,k,f as F,M as L,g as G,B as I,i as j,t as T}from"./networklayer-d214f836.js";import{c as E,T as P,X as V}from"./utils-8269f17a.js";function C(e,n){if(e.getGeometry().getType()==="Polygon"){const t=e.get("color");return new i({fill:new u({color:t})})}else return new i({image:new y({fill:new u({color:"red"}),stroke:new m({color:"black",width:2}),points:5,radius:10,radius2:4,angle:0})})}const r=new d({source:new w,style:C,opacity:.3});function D(e,n,t){let o=b([n]);const s=e.getView().getResolution()*3;return o=x(o,s),t.getSource().getFeaturesInExtent(o).length>0}function N(e){if(Object.keys(e).length!==0){r.getSource().clear();const t=new h().readFeatures(e);r.getSource().addFeatures(t)}}function O(e,n){const t=n.getGeometry().getCoordinates(),o=JSON.stringify({x:t[0],y:t[1]});E("isochrones",o,N)}function R(e,n){e.addLayer(r);const t=new S({source:r.getSource(),type:"Point",condition:function(o){return p(o)===!0?D(e,o.coordinate,n):!1}});return r.getSource().on("addfeature",function(o){o.feature.getGeometry().getType()==="Point"&&O(r,o.feature)}),t}function v(){const e="./data/stbrice.json",t=k([2.3314107610246633,48.988440397479536,2.4050093789098863,49.01280894618151],"EPSG:4326","EPSG:3857"),s=F(e,null),a=new L({target:"map",layers:[new P({source:new V({url:"http://stamen-tiles-c.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"})}),s],view:new G({center:[-697841.1416552059,7046686336793598e-9],extent:t,zoom:16})}),l=[{text:"Hide/Show Labels",callback:T},"-"],g=new I({width:170,defaultItems:!0,items:l});a.addControl(g);const c=R(a,s);a.addInteraction(c),c.setActive(!0);const f=new j({source:s.getSource()});a.addInteraction(f)}v();
//# sourceMappingURL=isochrones-c9b44fc7.js.map
