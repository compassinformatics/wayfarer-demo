import"./bootstrap.min-fc66521f.js";import{V as d,a as w,b as i,F as u,j as y,S as m,D as S,p,c as b,d as x,e as k,G as h,k as F,f as L,M as j,g as G,R as I,i as T,t as E}from"./networklayer-bc81f725.js";import{T as P}from"./OSM-f284ffe5.js";import{S as V}from"./StadiaMaps-de0a4281.js";function C(e,n){if(e.getGeometry().getType()==="Polygon"){const t=e.get("color");return new i({fill:new u({color:t})})}else return new i({image:new y({fill:new u({color:"red"}),stroke:new m({color:"black",width:2}),points:5,radius:10,radius2:4,angle:0})})}const r=new d({source:new w,style:C,opacity:.3});function D(e,n,t){let o=b([n]);const s=e.getView().getResolution()*3;return o=x(o,s),t.getSource().getFeaturesInExtent(o).length>0}function M(e){if(Object.keys(e).length!==0){r.getSource().clear();const t=new h().readFeatures(e);r.getSource().addFeatures(t)}}function N(e,n){const t=n.getGeometry().getCoordinates(),o=JSON.stringify({x:t[0],y:t[1]});k("isochrones",o,M)}function O(e,n){e.addLayer(r);const t=new S({source:r.getSource(),type:"Point",condition:function(o){return p(o)===!0?D(e,o.coordinate,n):!1}});return r.getSource().on("addfeature",function(o){o.feature.getGeometry().getType()==="Point"&&N(r,o.feature)}),t}function R(){const e="./data/stbrice.json",t=F([2.3314107610246633,48.988440397479536,2.4050093789098863,49.01280894618151],"EPSG:4326","EPSG:3857"),s=L(e,null),a=new j({target:"map",layers:[new P({source:new V({layer:"stamen_toner",retina:!0})}),s],view:new G({center:[-697841.1416552059,7046686336793598e-9],extent:t,zoom:16})}),l=[{text:"Hide/Show Labels",callback:E},"-"],g=new I({width:170,defaultItems:!0,items:l});a.addControl(g);const c=O(a,s);a.addInteraction(c),c.setActive(!0);const f=new T({source:s.getSource()});a.addInteraction(f)}R();
//# sourceMappingURL=isochrones-ef134c3f.js.map
