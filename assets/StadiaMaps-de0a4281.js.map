{"version":3,"file":"StadiaMaps-de0a4281.js","sources":["../../node_modules/ol/source/StadiaMaps.js"],"sourcesContent":["/**\n * @module ol/source/StadiaMaps\n */\n\nimport XYZ from './XYZ.js';\nimport {ATTRIBUTION as OSM_ATTRIBUTION} from './OSM.js';\n\n/**\n * @const\n * @type string\n */\nconst STADIA_ATTRIBUTION =\n  '&copy; <a href=\"https://www.stadiamaps.com/\" target=\"_blank\">Stadia Maps</a>';\n\n/**\n * @const\n * @type string\n */\nconst OMT_ATTRIBUTION =\n  '&copy; <a href=\"https://openmaptiles.org/\" target=\"_blank\">OpenMapTiles</a>';\n\n/**\n * @const\n * @type string\n */\nconst STAMEN_ATTRIBUTION =\n  '&copy; <a href=\"https://stamen.com/\" target=\"_blank\">Stamen Design</a>';\n\n/**\n * @type {Object<string, {extension: string}>}\n */\nconst LayerConfig = {\n  'stamen_terrain': {\n    extension: 'png',\n  },\n  'stamen_terrain_background': {\n    extension: 'png',\n  },\n  'stamen_terrain_labels': {\n    extension: 'png',\n  },\n  'stamen_terrain_lines': {\n    extension: 'png',\n  },\n  'stamen_toner_background': {\n    extension: 'png',\n  },\n  'stamen_toner': {\n    extension: 'png',\n  },\n  'stamen_toner_labels': {\n    extension: 'png',\n  },\n  'stamen_toner_lines': {\n    extension: 'png',\n  },\n  'stamen_toner_lite': {\n    extension: 'png',\n  },\n  'stamen_watercolor': {\n    extension: 'jpg',\n  },\n  'alidade_smooth': {\n    extension: 'png',\n  },\n  'alidade_smooth_dark': {\n    extension: 'png',\n  },\n  'alidade_satellite': {\n    extension: 'png',\n  },\n  'outdoors': {\n    extension: 'png',\n  },\n  'osm_bright': {\n    extension: 'png',\n  },\n};\n\n/**\n * @type {Object<string, {minZoom: number, maxZoom: number, retina: boolean}>}\n */\nconst ProviderConfig = {\n  'stamen_terrain': {\n    minZoom: 0,\n    maxZoom: 18,\n    retina: true,\n  },\n  'stamen_toner': {\n    minZoom: 0,\n    maxZoom: 20,\n    retina: true,\n  },\n  'stamen_watercolor': {\n    minZoom: 1,\n    maxZoom: 18,\n    retina: false,\n  },\n};\n\n/**\n * @typedef {Object} Options\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {string} layer Layer name. Valid values: `alidade_smooth`, `alidade_smooth_dark`, `outdoors`, `stamen_terrain`, `stamen_terrain_background`, `stamen_terrain_labels`, `stamen_terrain_lines`, `stamen_toner_background`, `stamen_toner`, `stamen_toner_labels`, `stamen_toner_lines`, `stamen_toner_lite`, `stamen_watercolor`, and `osm_bright`.\n * @property {number} [minZoom] Minimum zoom.\n * @property {number} [maxZoom] Maximum zoom.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction]\n * Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url] URL template. Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n * @property {string} [apiKey] Stadia Maps API key. Not required for localhost or most public web deployments. See https://docs.stadiamaps.com/authentication/ for details.\n * @property {boolean} [retina] Use retina tiles (if available; not available for Stamen Watercolor).\n */\n\n/**\n * @classdesc\n * Layer source for the Stadia Maps tile server.\n * @api\n */\nclass StadiaMaps extends XYZ {\n  /**\n   * @param {Options} options StadiaMaps options.\n   */\n  constructor(options) {\n    const i = options.layer.indexOf('-');\n    const provider = i == -1 ? options.layer : options.layer.slice(0, i);\n    const providerConfig = ProviderConfig[provider] || {\n      'minZoom': 0,\n      'maxZoom': 20,\n      'retina': true,\n    };\n\n    const layerConfig = LayerConfig[options.layer];\n    const query = options.apiKey ? '?api_key=' + options.apiKey : '';\n    const retina = providerConfig.retina && options.retina ? '@2x' : '';\n\n    const url =\n      options.url !== undefined\n        ? options.url\n        : 'https://tiles.stadiamaps.com/tiles/' +\n          options.layer +\n          '/{z}/{x}/{y}' +\n          retina +\n          '.' +\n          layerConfig.extension +\n          query;\n\n    const attributions = [STADIA_ATTRIBUTION, OMT_ATTRIBUTION, OSM_ATTRIBUTION];\n\n    if (options.layer.startsWith('stamen_')) {\n      attributions.splice(1, 0, STAMEN_ATTRIBUTION);\n    }\n\n    super({\n      attributions: attributions,\n      cacheSize: options.cacheSize,\n      crossOrigin: 'anonymous',\n      interpolate: options.interpolate,\n      maxZoom:\n        options.maxZoom !== undefined\n          ? options.maxZoom\n          : providerConfig.maxZoom,\n      minZoom:\n        options.minZoom !== undefined\n          ? options.minZoom\n          : providerConfig.minZoom,\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n      tileLoadFunction: options.tileLoadFunction,\n      transition: options.transition,\n      url: url,\n      tilePixelRatio: retina ? 2 : 1,\n      wrapX: options.wrapX,\n      zDirection: options.zDirection,\n    });\n  }\n}\n\nexport default StadiaMaps;\n"],"names":["STADIA_ATTRIBUTION","OMT_ATTRIBUTION","STAMEN_ATTRIBUTION","LayerConfig","ProviderConfig","StadiaMaps","XYZ","options","i","provider","providerConfig","layerConfig","query","retina","url","attributions","OSM_ATTRIBUTION","StadiaMaps$1"],"mappings":"6CAWA,MAAMA,EACJ,+EAMIC,EACJ,8EAMIC,EACJ,yEAKIC,EAAc,CAClB,eAAkB,CAChB,UAAW,KACZ,EACD,0BAA6B,CAC3B,UAAW,KACZ,EACD,sBAAyB,CACvB,UAAW,KACZ,EACD,qBAAwB,CACtB,UAAW,KACZ,EACD,wBAA2B,CACzB,UAAW,KACZ,EACD,aAAgB,CACd,UAAW,KACZ,EACD,oBAAuB,CACrB,UAAW,KACZ,EACD,mBAAsB,CACpB,UAAW,KACZ,EACD,kBAAqB,CACnB,UAAW,KACZ,EACD,kBAAqB,CACnB,UAAW,KACZ,EACD,eAAkB,CAChB,UAAW,KACZ,EACD,oBAAuB,CACrB,UAAW,KACZ,EACD,kBAAqB,CACnB,UAAW,KACZ,EACD,SAAY,CACV,UAAW,KACZ,EACD,WAAc,CACZ,UAAW,KACZ,CACH,EAKMC,EAAiB,CACrB,eAAkB,CAChB,QAAS,EACT,QAAS,GACT,OAAQ,EACT,EACD,aAAgB,CACd,QAAS,EACT,QAAS,GACT,OAAQ,EACT,EACD,kBAAqB,CACnB,QAAS,EACT,QAAS,GACT,OAAQ,EACT,CACH,EAmCA,MAAMC,UAAmBC,CAAI,CAI3B,YAAYC,EAAS,CACnB,MAAMC,EAAID,EAAQ,MAAM,QAAQ,GAAG,EAC7BE,EAAWD,GAAK,GAAKD,EAAQ,MAAQA,EAAQ,MAAM,MAAM,EAAGC,CAAC,EAC7DE,EAAiBN,EAAeK,CAAQ,GAAK,CACjD,QAAW,EACX,QAAW,GACX,OAAU,EAChB,EAEUE,EAAcR,EAAYI,EAAQ,KAAK,EACvCK,EAAQL,EAAQ,OAAS,YAAcA,EAAQ,OAAS,GACxDM,EAASH,EAAe,QAAUH,EAAQ,OAAS,MAAQ,GAE3DO,EACJP,EAAQ,MAAQ,OACZA,EAAQ,IACR,sCACAA,EAAQ,MACR,eACAM,EACA,IACAF,EAAY,UACZC,EAEAG,EAAe,CAACf,EAAoBC,EAAiBe,CAAe,EAEtET,EAAQ,MAAM,WAAW,SAAS,GACpCQ,EAAa,OAAO,EAAG,EAAGb,CAAkB,EAG9C,MAAM,CACJ,aAAca,EACd,UAAWR,EAAQ,UACnB,YAAa,YACb,YAAaA,EAAQ,YACrB,QACEA,EAAQ,UAAY,OAChBA,EAAQ,QACRG,EAAe,QACrB,QACEH,EAAQ,UAAY,OAChBA,EAAQ,QACRG,EAAe,QACrB,2BAA4BH,EAAQ,2BACpC,iBAAkBA,EAAQ,iBAC1B,WAAYA,EAAQ,WACpB,IAAKO,EACL,eAAgBD,EAAS,EAAI,EAC7B,MAAON,EAAQ,MACf,WAAYA,EAAQ,UAC1B,CAAK,CACF,CACH,CAEA,MAAAU,EAAeZ","x_google_ignoreList":[0]}