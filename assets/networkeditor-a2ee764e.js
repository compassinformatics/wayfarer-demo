import{V as i,a as d,b as f,S as g,D as w,p as l,c as S,d as F,G as k}from"./networklayer-f7e04c8c.js";function C(){n.getSource().clear()}function y(t,r){return new f({stroke:new g({color:"DeepPink",width:2})})}const n=new i({source:new d,style:y});function m(){const t=new k,r=n.getSource().getFeatures();return t.writeFeatures(r)}function E(t,r,o){let e=S([r]);const s=t.getView().getResolution()*1;return e=F(e,s),o.getSource().getFeaturesInExtent(e).length>0}function p(t,r){const o=t.feature,e=o.getGeometry(),s=r.getSource(),a=s.getClosestFeatureToCoordinate(e.getFirstCoordinate()),c=(n.getSource().getFeatures().length+1)*-1;o.setId(c),a&&o.set("startFeatureId",a.getId());const u=s.getClosestFeatureToCoordinate(e.getLastCoordinate());u&&o.set("endFeatureId",u.getId())}function b(t,r){t.addLayer(n);const o=new w({source:n.getSource(),type:"LineString",condition:function(e){return l(e)===!0?E(t,e.coordinate,r):!1}});return o.on("drawend",function(e){p(e,r)}),o}export{C as a,b as c,m as g};
//# sourceMappingURL=networkeditor-a2ee764e.js.map
