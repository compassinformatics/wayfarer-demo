import{y as xr,z as _r}from"./networklayer-bc81f725.js";const wr=d=>Object.prototype.toString.call(d)==="[object Object]",Un=(d,o)=>{const a=document.createElement(d);if(o&&typeof o=="object")for(const l in o)l==="html"?a.innerHTML=o[l]:a.setAttribute(l,o[l]);return a},Et=d=>["#text","#comment"].includes(d.nodeName)?d.data:d.childNodes?d.childNodes.map(o=>Et(o)).join(""):"",Gn=function(d,o){let a=0,l=0;for(;a<d+1;)o[l].hidden||(a+=1),l+=1;return l-1};function Gt(d,o,a){var l;return d.nodeName==="#text"?l=a.document.createTextNode(d.data):d.nodeName==="#comment"?l=a.document.createComment(d.data):(o?l=a.document.createElementNS("http://www.w3.org/2000/svg",d.nodeName):d.nodeName.toLowerCase()==="svg"?(l=a.document.createElementNS("http://www.w3.org/2000/svg","svg"),o=!0):l=a.document.createElement(d.nodeName),d.attributes&&Object.entries(d.attributes).forEach(function(h){var v=h[0],g=h[1];return l.setAttribute(v,g)}),d.childNodes&&d.childNodes.forEach(function(h){return l.appendChild(Gt(h,o,a))}),a.valueDiffing&&(d.value&&(l instanceof HTMLButtonElement||l instanceof HTMLDataElement||l instanceof HTMLInputElement||l instanceof HTMLLIElement||l instanceof HTMLMeterElement||l instanceof HTMLOptionElement||l instanceof HTMLProgressElement||l instanceof HTMLParamElement)&&(l.value=d.value),d.checked&&l instanceof HTMLInputElement&&(l.checked=d.checked),d.selected&&l instanceof HTMLOptionElement&&(l.selected=d.selected))),l}var qt=function(d,o){for(o=o.slice();o.length>0;){var a=o.splice(0,1)[0];d=d.childNodes[a]}return d};function De(d,o,a){var l,h,v,g=o[a._const.action],b=o[a._const.route];[a._const.addElement,a._const.addTextElement].includes(g)||(l=qt(d,b));var y={diff:o,node:l};if(a.preDiffApply(y))return!0;switch(g){case a._const.addAttribute:if(!(l&&l instanceof Element))return!1;l.setAttribute(o[a._const.name],o[a._const.value]);break;case a._const.modifyAttribute:if(!(l&&l instanceof Element))return!1;l.setAttribute(o[a._const.name],o[a._const.newValue]),l instanceof HTMLInputElement&&o[a._const.name]==="value"&&(l.value=o[a._const.newValue]);break;case a._const.removeAttribute:if(!(l&&l instanceof Element))return!1;l.removeAttribute(o[a._const.name]);break;case a._const.modifyTextElement:if(!(l&&l instanceof Text))return!1;a.textDiff(l,l.data,o[a._const.oldValue],o[a._const.newValue]),l.parentNode instanceof HTMLTextAreaElement&&(l.parentNode.value=o[a._const.newValue]);break;case a._const.modifyValue:if(!l||l.value===void 0)return!1;l.value=o[a._const.newValue];break;case a._const.modifyComment:if(!(l&&l instanceof Comment))return!1;a.textDiff(l,l.data,o[a._const.oldValue],o[a._const.newValue]);break;case a._const.modifyChecked:if(!l||l.checked===void 0)return!1;l.checked=o[a._const.newValue];break;case a._const.modifySelected:if(!l||l.selected===void 0)return!1;l.selected=o[a._const.newValue];break;case a._const.replaceElement:var w=o[a._const.newValue].nodeName.toLowerCase()==="svg"||l.parentNode.namespaceURI==="http://www.w3.org/2000/svg";l.parentNode.replaceChild(Gt(o[a._const.newValue],w,a),l);break;case a._const.relocateGroup:Array.apply(void 0,new Array(o[a._const.groupLength])).map(function(){return l.removeChild(l.childNodes[o[a._const.from]])}).forEach(function(T,O){O===0&&(v=l.childNodes[o[a._const.to]]),l.insertBefore(T,v||null)});break;case a._const.removeElement:l.parentNode.removeChild(l);break;case a._const.addElement:var V=(A=b.slice()).splice(A.length-1,1)[0];if(!((l=qt(d,A))instanceof Element))return!1;l.insertBefore(Gt(o[a._const.element],l.namespaceURI==="http://www.w3.org/2000/svg",a),l.childNodes[V]||null);break;case a._const.removeTextElement:if(!l||l.nodeType!==3)return!1;var C=l.parentNode;C.removeChild(l),C instanceof HTMLTextAreaElement&&(C.value="");break;case a._const.addTextElement:var A;if(V=(A=b.slice()).splice(A.length-1,1)[0],h=a.document.createTextNode(o[a._const.value]),!(l=qt(d,A)).childNodes)return!1;l.insertBefore(h,l.childNodes[V]||null),l.parentNode instanceof HTMLTextAreaElement&&(l.parentNode.value=o[a._const.value]);break;default:console.log("unknown action")}return a.postDiffApply({diff:y.diff,node:y.node,newNode:h}),!0}function Xt(d,o,a){var l=d[o];d[o]=d[a],d[a]=l}function Er(d,o,a){(o=o.slice()).reverse(),o.forEach(function(l){(function(h,v,g){switch(v[g._const.action]){case g._const.addAttribute:v[g._const.action]=g._const.removeAttribute,De(h,v,g);break;case g._const.modifyAttribute:Xt(v,g._const.oldValue,g._const.newValue),De(h,v,g);break;case g._const.removeAttribute:v[g._const.action]=g._const.addAttribute,De(h,v,g);break;case g._const.modifyTextElement:case g._const.modifyValue:case g._const.modifyComment:case g._const.modifyChecked:case g._const.modifySelected:case g._const.replaceElement:Xt(v,g._const.oldValue,g._const.newValue),De(h,v,g);break;case g._const.relocateGroup:Xt(v,g._const.from,g._const.to),De(h,v,g);break;case g._const.removeElement:v[g._const.action]=g._const.addElement,De(h,v,g);break;case g._const.addElement:v[g._const.action]=g._const.removeElement,De(h,v,g);break;case g._const.removeTextElement:v[g._const.action]=g._const.addTextElement,De(h,v,g);break;case g._const.addTextElement:v[g._const.action]=g._const.removeTextElement,De(h,v,g);break;default:console.log("unknown action")}})(d,l,a)})}var Qt=function(d){var o=[];return o.push(d.nodeName),d.nodeName!=="#text"&&d.nodeName!=="#comment"&&d.attributes&&(d.attributes.class&&o.push("".concat(d.nodeName,".").concat(d.attributes.class.replace(/ /g,"."))),d.attributes.id&&o.push("".concat(d.nodeName,"#").concat(d.attributes.id))),o},Qn=function(d){var o={},a={};return d.forEach(function(l){Qt(l).forEach(function(h){var v=h in o;v||h in a?v&&(delete o[h],a[h]=!0):o[h]=!0})}),o},ti=function(d,o){var a=Qn(d),l=Qn(o),h={};return Object.keys(a).forEach(function(v){l[v]&&(h[v]=!0)}),h},ni=function(d){return delete d.outerDone,delete d.innerDone,delete d.valueDone,!d.childNodes||d.childNodes.every(ni)},be=function(d){if(Object.prototype.hasOwnProperty.call(d,"data"))return{nodeName:d.nodeName==="#text"?"#text":"#comment",data:d.data};var o={nodeName:d.nodeName};return Object.prototype.hasOwnProperty.call(d,"attributes")&&(o.attributes=d.attributes),Object.prototype.hasOwnProperty.call(d,"checked")&&(o.checked=d.checked),Object.prototype.hasOwnProperty.call(d,"value")&&(o.value=d.value),Object.prototype.hasOwnProperty.call(d,"selected")&&(o.selected=d.selected),Object.prototype.hasOwnProperty.call(d,"childNodes")&&(o.childNodes=d.childNodes.map(function(a){return be(a)})),o},Jt=function(d,o){if(!["nodeName","value","checked","selected","data"].every(function(h){return d[h]===o[h]}))return!1;if(Object.prototype.hasOwnProperty.call(d,"data"))return!0;if(!!d.attributes!=!!o.attributes||!!d.childNodes!=!!o.childNodes)return!1;if(d.attributes){var a=Object.keys(d.attributes),l=Object.keys(o.attributes);if(a.length!==l.length||!a.every(function(h){return d.attributes[h]===o.attributes[h]}))return!1}return!(d.childNodes&&(d.childNodes.length!==o.childNodes.length||!d.childNodes.every(function(h,v){return Jt(h,o.childNodes[v])})))},nn=function(d,o,a,l,h){if(h===void 0&&(h=!1),!d||!o||d.nodeName!==o.nodeName)return!1;if(["#text","#comment"].includes(d.nodeName))return!!h||d.data===o.data;if(d.nodeName in a)return!0;if(d.attributes&&o.attributes){if(d.attributes.id){if(d.attributes.id!==o.attributes.id)return!1;if("".concat(d.nodeName,"#").concat(d.attributes.id)in a)return!0}if(d.attributes.class&&d.attributes.class===o.attributes.class&&"".concat(d.nodeName,".").concat(d.attributes.class.replace(/ /g,"."))in a)return!0}if(l)return!0;var v=d.childNodes?d.childNodes.slice().reverse():[],g=o.childNodes?o.childNodes.slice().reverse():[];if(v.length!==g.length)return!1;if(h)return v.every(function(y,w){return y.nodeName===g[w].nodeName});var b=ti(v,g);return v.every(function(y,w){return nn(y,g[w],b,!0,!0)})},_t=function(d,o){return Array.apply(void 0,new Array(d)).map(function(){return o})},Dr=function(d,o){for(var a=d.childNodes?d.childNodes:[],l=o.childNodes?o.childNodes:[],h=_t(a.length,!1),v=_t(l.length,!1),g=[],b=function(){return arguments[1]},y=!1,w=function(){var V=function(C,A,T,O){var L=0,j=[],z=C.length,D=A.length,X=Array.apply(void 0,new Array(z+1)).map(function(){return[]}),G=ti(C,A),Z=z===D;Z&&C.some(function(ie,F){var P=Qt(ie),N=Qt(A[F]);return P.length!==N.length?(Z=!1,!0):(P.some(function(H,I){if(H!==N[I])return Z=!1,!0}),!Z||void 0)});for(var ee=0;ee<z;ee++)for(var _=C[ee],Y=0;Y<D;Y++){var ae=A[Y];T[ee]||O[Y]||!nn(_,ae,G,Z)?X[ee+1][Y+1]=0:(X[ee+1][Y+1]=X[ee][Y]?X[ee][Y]+1:1,X[ee+1][Y+1]>=L&&(L=X[ee+1][Y+1],j=[ee+1,Y+1]))}return L!==0&&{oldValue:j[0]-L,newValue:j[1]-L,length:L}}(a,l,h,v);V?(g.push(V),Array.apply(void 0,new Array(V.length)).map(b).forEach(function(C){return function(A,T,O,L){A[O.oldValue+L]=!0,T[O.newValue+L]=!0}(h,v,V,C)})):y=!0};!y;)w();return d.subsets=g,d.subsetsAge=100,g},Tr=function(){function d(){this.list=[]}return d.prototype.add=function(o){var a;(a=this.list).push.apply(a,o)},d.prototype.forEach=function(o){this.list.forEach(function(a){return o(a)})},d}(),le=function(){function d(o){o===void 0&&(o={});var a=this;Object.entries(o).forEach(function(l){var h=l[0],v=l[1];return a[h]=v})}return d.prototype.toString=function(){return JSON.stringify(this)},d.prototype.setValue=function(o,a){return this[o]=a,this},d}();function Ut(d,o){var a,l,h=d;for(o=o.slice();o.length>0;)l=o.splice(0,1)[0],a=h,h=h.childNodes?h.childNodes[l]:void 0;return{node:h,parentNode:a,nodeIndex:l}}function Or(d,o,a){return o.forEach(function(l){(function(h,v,g){var b,y,w,V;if(![g._const.addElement,g._const.addTextElement].includes(v[g._const.action])){var C=Ut(h,v[g._const.route]);y=C.node,w=C.parentNode,V=C.nodeIndex}var A,T,O=[],L={diff:v,node:y};if(g.preVirtualDiffApply(L))return!0;switch(v[g._const.action]){case g._const.addAttribute:y.attributes||(y.attributes={}),y.attributes[v[g._const.name]]=v[g._const.value],v[g._const.name]==="checked"?y.checked=!0:v[g._const.name]==="selected"?y.selected=!0:y.nodeName==="INPUT"&&v[g._const.name]==="value"&&(y.value=v[g._const.value]);break;case g._const.modifyAttribute:y.attributes[v[g._const.name]]=v[g._const.newValue];break;case g._const.removeAttribute:delete y.attributes[v[g._const.name]],Object.keys(y.attributes).length===0&&delete y.attributes,v[g._const.name]==="checked"?y.checked=!1:v[g._const.name]==="selected"?delete y.selected:y.nodeName==="INPUT"&&v[g._const.name]==="value"&&delete y.value;break;case g._const.modifyTextElement:y.data=v[g._const.newValue],w.nodeName==="TEXTAREA"&&(w.value=v[g._const.newValue]);break;case g._const.modifyValue:y.value=v[g._const.newValue];break;case g._const.modifyComment:y.data=v[g._const.newValue];break;case g._const.modifyChecked:y.checked=v[g._const.newValue];break;case g._const.modifySelected:y.selected=v[g._const.newValue];break;case g._const.replaceElement:A=v[g._const.newValue],w.childNodes[V]=A;break;case g._const.relocateGroup:y.childNodes.splice(v[g._const.from],v[g._const.groupLength]).reverse().forEach(function(D){return y.childNodes.splice(v[g._const.to],0,D)}),y.subsets&&y.subsets.forEach(function(D){if(v[g._const.from]<v[g._const.to]&&D.oldValue<=v[g._const.to]&&D.oldValue>v[g._const.from])D.oldValue-=v[g._const.groupLength],(X=D.oldValue+D.length-v[g._const.to])>0&&(O.push({oldValue:v[g._const.to]+v[g._const.groupLength],newValue:D.newValue+D.length-X,length:X}),D.length-=X);else if(v[g._const.from]>v[g._const.to]&&D.oldValue>v[g._const.to]&&D.oldValue<v[g._const.from]){var X;D.oldValue+=v[g._const.groupLength],(X=D.oldValue+D.length-v[g._const.to])>0&&(O.push({oldValue:v[g._const.to]+v[g._const.groupLength],newValue:D.newValue+D.length-X,length:X}),D.length-=X)}else D.oldValue===v[g._const.from]&&(D.oldValue=v[g._const.to])});break;case g._const.removeElement:w.childNodes.splice(V,1),w.subsets&&w.subsets.forEach(function(D){D.oldValue>V?D.oldValue-=1:D.oldValue===V?D.delete=!0:D.oldValue<V&&D.oldValue+D.length>V&&(D.oldValue+D.length-1===V?D.length--:(O.push({newValue:D.newValue+V-D.oldValue,oldValue:V,length:D.length-V+D.oldValue-1}),D.length=V-D.oldValue))}),y=w;break;case g._const.addElement:var j=(T=v[g._const.route].slice()).splice(T.length-1,1)[0];y=(b=Ut(h,T))===null||b===void 0?void 0:b.node,A=v[g._const.element],y.childNodes||(y.childNodes=[]),j>=y.childNodes.length?y.childNodes.push(A):y.childNodes.splice(j,0,A),y.subsets&&y.subsets.forEach(function(D){if(D.oldValue>=j)D.oldValue+=1;else if(D.oldValue<j&&D.oldValue+D.length>j){var X=D.oldValue+D.length-j;O.push({newValue:D.newValue+D.length-X,oldValue:j+1,length:X}),D.length-=X}});break;case g._const.removeTextElement:w.childNodes.splice(V,1),w.nodeName==="TEXTAREA"&&delete w.value,w.subsets&&w.subsets.forEach(function(D){D.oldValue>V?D.oldValue-=1:D.oldValue===V?D.delete=!0:D.oldValue<V&&D.oldValue+D.length>V&&(D.oldValue+D.length-1===V?D.length--:(O.push({newValue:D.newValue+V-D.oldValue,oldValue:V,length:D.length-V+D.oldValue-1}),D.length=V-D.oldValue))}),y=w;break;case g._const.addTextElement:var z=(T=v[g._const.route].slice()).splice(T.length-1,1)[0];(A={}).nodeName="#text",A.data=v[g._const.value],(y=Ut(h,T).node).childNodes||(y.childNodes=[]),z>=y.childNodes.length?y.childNodes.push(A):y.childNodes.splice(z,0,A),y.nodeName==="TEXTAREA"&&(y.value=v[g._const.newValue]),y.subsets&&y.subsets.forEach(function(D){if(D.oldValue>=z&&(D.oldValue+=1),D.oldValue<z&&D.oldValue+D.length>z){var X=D.oldValue+D.length-z;O.push({newValue:D.newValue+D.length-X,oldValue:z+1,length:X}),D.length-=X}});break;default:console.log("unknown action")}y.subsets&&(y.subsets=y.subsets.filter(function(D){return!D.delete&&D.oldValue!==D.newValue}),O.length&&(y.subsets=y.subsets.concat(O))),g.postVirtualDiffApply({node:L.node,diff:L.diff,newNode:A})})(d,l,a)}),!0}function Ie(d,o){o===void 0&&(o={valueDiffing:!0});var a={nodeName:d.nodeName};return d instanceof Text||d instanceof Comment?a.data=d.data:(d.attributes&&d.attributes.length>0&&(a.attributes={},Array.prototype.slice.call(d.attributes).forEach(function(l){return a.attributes[l.name]=l.value})),d.childNodes&&d.childNodes.length>0&&(a.childNodes=[],Array.prototype.slice.call(d.childNodes).forEach(function(l){return a.childNodes.push(Ie(l,o))})),o.valueDiffing&&(d instanceof HTMLTextAreaElement&&(a.value=d.value),d instanceof HTMLInputElement&&["radio","checkbox"].includes(d.type.toLowerCase())&&d.checked!==void 0?a.checked=d.checked:(d instanceof HTMLButtonElement||d instanceof HTMLDataElement||d instanceof HTMLInputElement||d instanceof HTMLLIElement||d instanceof HTMLMeterElement||d instanceof HTMLOptionElement||d instanceof HTMLProgressElement||d instanceof HTMLParamElement)&&(a.value=d.value),d instanceof HTMLOptionElement&&(a.selected=d.selected))),a}var Sr=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,Mr=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Jn(d){return d.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var Nr={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Zn=function(d){var o={nodeName:"",attributes:{}},a=!1,l=d.match(/<\/?([^\s]+?)[/\s>]/);if(l&&(o.nodeName=l[1],(Nr[l[1]]||d.charAt(d.length-2)==="/")&&(a=!0),o.nodeName.startsWith("!--"))){var h=d.indexOf("-->");return{type:"comment",node:{nodeName:"#comment",data:h!==-1?d.slice(4,h):""},voidElement:a}}for(var v=new RegExp(Mr),g=null,b=!1;!b;)if((g=v.exec(d))===null)b=!0;else if(g[0].trim())if(g[1]){var y=g[1].trim(),w=[y,""];y.indexOf("=")>-1&&(w=y.split("=")),o.attributes[w[0]]=w[1],v.lastIndex--}else g[2]&&(o.attributes[g[2]]=g[3].trim().substring(1,g[3].length-1));return{type:"tag",node:o,voidElement:a}},Ce=function(d,o){o===void 0&&(o={valueDiffing:!0});var a,l=[],h=-1,v=[];if(d.indexOf("<")!==0){var g=d.indexOf("<");l.push({nodeName:"#text",data:g===-1?d:d.substring(0,g)})}return d.replace(Sr,function(b,y){var w=b.charAt(1)!=="/",V=b.startsWith("<!--"),C=y+b.length,A=d.charAt(C);if(V){var T=Zn(b).node;if(h<0)return l.push(T),"";var O=v[h];return O&&T.nodeName&&(O.node.childNodes||(O.node.childNodes=[]),O.node.childNodes.push(T)),""}if(w){if(a=Zn(b),h++,!a.voidElement&&A&&A!=="<"){a.node.childNodes||(a.node.childNodes=[]);var L=Jn(d.slice(C,d.indexOf("<",C)));a.node.childNodes.push({nodeName:"#text",data:L}),o.valueDiffing&&a.node.nodeName==="TEXTAREA"&&(a.node.value=L)}h===0&&a.node.nodeName&&l.push(a.node);var j=v[h-1];j&&a.node.nodeName&&(j.node.childNodes||(j.node.childNodes=[]),j.node.childNodes.push(a.node)),v[h]=a}if((!w||a.voidElement)&&(h>-1&&(a.voidElement||a.node.nodeName.toUpperCase()===b.slice(2,-1).toUpperCase())&&--h>-1&&(a=v[h]),A!=="<"&&A)){var z=h===-1?l:v[h].node.childNodes||[],D=d.indexOf("<",C);L=Jn(d.slice(C,D===-1?void 0:D)),z.push({nodeName:"#text",data:L})}return""}),l[0]},Pr=function(){function d(o,a,l){this.options=l,this.t1=typeof Element<"u"&&o instanceof Element?Ie(o,this.options):typeof o=="string"?Ce(o,this.options):JSON.parse(JSON.stringify(o)),this.t2=typeof Element<"u"&&a instanceof Element?Ie(a,this.options):typeof a=="string"?Ce(a,this.options):JSON.parse(JSON.stringify(a)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig=typeof Element<"u"&&o instanceof Element?Ie(o,this.options):typeof o=="string"?Ce(o,this.options):JSON.parse(JSON.stringify(o)),this.t2Orig=typeof Element<"u"&&a instanceof Element?Ie(a,this.options):typeof a=="string"?Ce(a,this.options):JSON.parse(JSON.stringify(a))),this.tracker=new Tr}return d.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},d.prototype.findDiffs=function(o,a){var l;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));(l=this.findNextDiff(o,a,[])).length===0&&(Jt(o,a)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,ni(o),l=this.findNextDiff(o,a,[])))),l.length>0&&(this.foundAll=!1,this.tracker.add(l),Or(o,l,this.options))}while(l.length>0);return this.tracker.list},d.prototype.findNextDiff=function(o,a,l){var h,v;if(this.options.maxDepth&&l.length>this.options.maxDepth)return[];if(!o.outerDone){if(h=this.findOuterDiff(o,a,l),this.options.filterOuterDiff&&(v=this.options.filterOuterDiff(o,a,h))&&(h=v),h.length>0)return o.outerDone=!0,h;o.outerDone=!0}if(Object.prototype.hasOwnProperty.call(o,"data"))return[];if(!o.innerDone){if((h=this.findInnerDiff(o,a,l)).length>0)return h;o.innerDone=!0}if(this.options.valueDiffing&&!o.valueDone){if((h=this.findValueDiff(o,a,l)).length>0)return o.valueDone=!0,h;o.valueDone=!0}return[]},d.prototype.findOuterDiff=function(o,a,l){var h,v,g,b,y,w,V=[];if(o.nodeName!==a.nodeName){if(!l.length)throw new Error("Top level nodes have to be of the same kind.");return[new le().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,be(o)).setValue(this.options._const.newValue,be(a)).setValue(this.options._const.route,l)]}if(l.length&&this.options.diffcap<Math.abs((o.childNodes||[]).length-(a.childNodes||[]).length))return[new le().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,be(o)).setValue(this.options._const.newValue,be(a)).setValue(this.options._const.route,l)];if(Object.prototype.hasOwnProperty.call(o,"data")&&o.data!==a.data)return o.nodeName==="#text"?[new le().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,l).setValue(this.options._const.oldValue,o.data).setValue(this.options._const.newValue,a.data)]:[new le().setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,l).setValue(this.options._const.oldValue,o.data).setValue(this.options._const.newValue,a.data)];for(v=o.attributes?Object.keys(o.attributes).sort():[],g=a.attributes?Object.keys(a.attributes).sort():[],b=v.length,w=0;w<b;w++)h=v[w],(y=g.indexOf(h))===-1?V.push(new le().setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,l).setValue(this.options._const.name,h).setValue(this.options._const.value,o.attributes[h])):(g.splice(y,1),o.attributes[h]!==a.attributes[h]&&V.push(new le().setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,l).setValue(this.options._const.name,h).setValue(this.options._const.oldValue,o.attributes[h]).setValue(this.options._const.newValue,a.attributes[h])));for(b=g.length,w=0;w<b;w++)h=g[w],V.push(new le().setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,l).setValue(this.options._const.name,h).setValue(this.options._const.value,a.attributes[h]));return V},d.prototype.findInnerDiff=function(o,a,l){var h=o.childNodes?o.childNodes.slice():[],v=a.childNodes?a.childNodes.slice():[],g=Math.max(h.length,v.length),b=Math.abs(h.length-v.length),y=[],w=0;if(!this.options.maxChildCount||g<this.options.maxChildCount){var V=!!(o.subsets&&o.subsetsAge--),C=V?o.subsets:o.childNodes&&a.childNodes?Dr(o,a):[];if(C.length>0&&(y=this.attemptGroupRelocation(o,a,C,l,V)).length>0)return y}for(var A=0;A<g;A+=1){var T=h[A],O=v[A];if(b&&(T&&!O?T.nodeName==="#text"?(y.push(new le().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,l.concat(w)).setValue(this.options._const.value,T.data)),w-=1):(y.push(new le().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,l.concat(w)).setValue(this.options._const.element,be(T))),w-=1):O&&!T&&(O.nodeName==="#text"?y.push(new le().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,l.concat(w)).setValue(this.options._const.value,O.data)):y.push(new le().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,l.concat(w)).setValue(this.options._const.element,be(O))))),T&&O){if(!this.options.maxChildCount||g<this.options.maxChildCount)y=y.concat(this.findNextDiff(T,O,l.concat(w)));else if(!Jt(T,O))if(h.length>v.length)T.nodeName==="#text"?y.push(new le().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,l.concat(w)).setValue(this.options._const.value,T.data)):y.push(new le().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,be(T)).setValue(this.options._const.route,l.concat(w))),h.splice(A,1),A-=1,w-=1,b-=1;else if(h.length<v.length){var L=be(O);y=y.concat([new le().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,L).setValue(this.options._const.route,l.concat(w))]),h.splice(A,0,L),b-=1}else y=y.concat([new le().setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,be(T)).setValue(this.options._const.newValue,be(O)).setValue(this.options._const.route,l.concat(w))])}w+=1}return o.innerDone=!0,y},d.prototype.attemptGroupRelocation=function(o,a,l,h,v){for(var g,b,y,w,V,C,A=function(G,Z,ee){var _=G.childNodes?_t(G.childNodes.length,!0):[],Y=Z.childNodes?_t(Z.childNodes.length,!0):[],ae=0;return ee.forEach(function(ie){for(var F=ie.oldValue+ie.length,P=ie.newValue+ie.length,N=ie.oldValue;N<F;N+=1)_[N]=ae;for(N=ie.newValue;N<P;N+=1)Y[N]=ae;ae+=1}),{gaps1:_,gaps2:Y}}(o,a,l),T=A.gaps1,O=A.gaps2,L=Math.min(T.length,O.length),j=[],z=0,D=0;z<L;D+=1,z+=1)if(!v||T[z]!==!0&&O[z]!==!0){if(T[z]===!0)if((w=o.childNodes[D]).nodeName==="#text")if(a.childNodes[z].nodeName==="#text"){if(w.data!==a.childNodes[z].data){for(C=D;o.childNodes.length>C+1&&o.childNodes[C+1].nodeName==="#text";)if(C+=1,a.childNodes[z].data===o.childNodes[C].data){V=!0;break}if(!V)return j.push(new le().setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,h.concat(z)).setValue(this.options._const.oldValue,w.data).setValue(this.options._const.newValue,a.childNodes[z].data)),j}}else j.push(new le().setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,h.concat(z)).setValue(this.options._const.value,w.data)),T.splice(z,1),L=Math.min(T.length,O.length),z-=1;else j.push(new le().setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,h.concat(z)).setValue(this.options._const.element,be(w))),T.splice(z,1),L=Math.min(T.length,O.length),z-=1;else if(O[z]===!0)(w=a.childNodes[z]).nodeName==="#text"?(j.push(new le().setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,h.concat(z)).setValue(this.options._const.value,w.data)),T.splice(z,0,!0),L=Math.min(T.length,O.length),D-=1):(j.push(new le().setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,h.concat(z)).setValue(this.options._const.element,be(w))),T.splice(z,0,!0),L=Math.min(T.length,O.length),D-=1);else if(T[z]!==O[z]){if(j.length>0)return j;if(y=l[T[z]],(b=Math.min(y.newValue,o.childNodes.length-y.length))!==y.oldValue){g=!1;for(var X=0;X<y.length;X+=1)nn(o.childNodes[b+X],o.childNodes[y.oldValue+X],{},!1,!0)||(g=!0);if(g)return[new le().setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,y.length).setValue(this.options._const.from,y.oldValue).setValue(this.options._const.to,b).setValue(this.options._const.route,h)]}}}return j},d.prototype.findValueDiff=function(o,a,l){var h=[];return o.selected!==a.selected&&h.push(new le().setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,o.selected).setValue(this.options._const.newValue,a.selected).setValue(this.options._const.route,l)),(o.value||a.value)&&o.value!==a.value&&o.nodeName!=="OPTION"&&h.push(new le().setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,o.value||"").setValue(this.options._const.newValue,a.value||"").setValue(this.options._const.route,l)),o.checked!==a.checked&&h.push(new le().setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,o.checked).setValue(this.options._const.newValue,a.checked).setValue(this.options._const.route,l)),h},d}(),kr={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(d,o,a,l){d.data=l},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!(typeof window>"u"||!window.document)&&window.document,components:[]},Ar=function(){function d(o){if(o===void 0&&(o={}),Object.entries(kr).forEach(function(h){var v=h[0],g=h[1];Object.prototype.hasOwnProperty.call(o,v)||(o[v]=g)}),!o._const){var a=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],l={};o.compress?a.forEach(function(h,v){return l[h]=v}):a.forEach(function(h){return l[h]=h}),o._const=l}this.options=o}return d.prototype.apply=function(o,a){return function(l,h,v){return h.every(function(g){return De(l,g,v)})}(o,a,this.options)},d.prototype.undo=function(o,a){return Er(o,a,this.options)},d.prototype.diff=function(o,a){return new Pr(o,a,this.options).init()},d}();const Zt=(d,o,a,{classes:l,format:h,hiddenHeader:v,sortable:g,scrollY:b,type:y},{noColumnWidths:w,unhideHeader:V})=>({nodeName:"TR",childNodes:d.map((C,A)=>{const T=o[A]||{type:y,format:h,sortable:!0,searchable:!0};if(T.hidden)return;const O={};if(T.sortable&&g&&(!b.length||V)&&(T.filter?O["data-filterable"]="true":O["data-sortable"]="true"),T.headerClass&&(O.class=T.headerClass),a.sort&&a.sort.column===A){const z=a.sort.dir==="asc"?l.ascending:l.descending;O.class=O.class?`${O.class} ${z}`:z,O["aria-sort"]=a.sort.dir==="asc"?"ascending":"descending"}else a.filters[A]&&(O.class=O.class?`${O.class} ${l.filterActive}`:l.filterActive);let L="";a.widths[A]&&!w&&(L+=`width: ${a.widths[A]}%;`),b.length&&!V&&(L+="padding-bottom: 0;padding-top: 0;border: 0;"),L.length&&(O.style=L);const j=C.type==="html"?C.data:[{nodeName:"#text",data:C.text??String(C.data)}];return{nodeName:"TH",attributes:O,childNodes:!v&&!b.length||V?T.sortable&&g?[{nodeName:"a",attributes:{href:"#",class:T.filter?l.filter:l.sorter},childNodes:j}]:j:[{nodeName:"#text",data:""}]}}).filter(C=>C)}),Kn=(d,o,a,l,h,v,{classes:g,hiddenHeader:b,header:y,footer:w,format:V,sortable:C,scrollY:A,type:T,rowRender:O,tabIndex:L},{noColumnWidths:j,unhideHeader:z,renderHeader:D})=>{const X={nodeName:"TABLE",attributes:{...d},childNodes:[{nodeName:"TBODY",childNodes:a.map(({row:G,index:Z})=>{const ee={nodeName:"TR",attributes:{"data-index":String(Z)},childNodes:G.map((_,Y)=>{const ae=l[Y]||{type:T,format:V,sortable:!0,searchable:!0};if(ae.hidden)return;const ie=ae.type==="html"?{nodeName:"TD",childNodes:_.data}:{nodeName:"TD",childNodes:[{nodeName:"#text",data:_.text??String(_.data)}]};if(y||w||!h.widths[Y]||j||(ie.attributes={style:`width: ${h.widths[Y]}%;`}),ae.cellClass&&(ie.attributes||(ie.attributes={}),ie.attributes.class=ae.cellClass),ae.render){const F=ae.render(_.data,ie,Z,Y);if(F){if(typeof F!="string")return F;{const P=Ce(`<td>${F}</td>`);P.childNodes.length===1&&["#text","#comment"].includes(P.childNodes[0].nodeName)?ie.childNodes[0].data=F:ie.childNodes=P.childNodes}}}return ie}).filter(_=>_)};if(Z===v&&(ee.attributes.class=g.cursor),O){const _=O(G,ee,Z);if(_){if(typeof _!="string")return _;{const Y=Ce(`<tr>${_}</tr>`);!Y.childNodes||Y.childNodes.length===1&&["#text","#comment"].includes(Y.childNodes[0].nodeName)?ee.childNodes[0].data=_:ee.childNodes=Y.childNodes}}}return ee})}]};if(X.attributes.class=X.attributes.class?`${X.attributes.class} ${g.table}`:g.table,y||w||D){const G=Zt(o,l,h,{classes:g,hiddenHeader:b,sortable:C,scrollY:A},{noColumnWidths:j,unhideHeader:z});if(y||D){const Z={nodeName:"THEAD",childNodes:[G]};!A.length&&!b||z||(Z.attributes={style:"height: 0px;"}),X.childNodes.unshift(Z)}if(w){const Z={nodeName:"TFOOT",childNodes:[y?structuredClone(G):G]};!A.length&&!b||z||(Z.attributes={style:"height: 0px;"}),X.childNodes.push(Z)}}return L!==!1&&(X.attributes.tabindex=String(L)),X};var Kt={};({get exports(){return Kt},set exports(d){Kt=d}}).exports=function(){var d=1e3,o=6e4,a=36e5,l="millisecond",h="second",v="minute",g="hour",b="day",y="week",w="month",V="quarter",C="year",A="date",T="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var P=["th","st","nd","rd"],N=F%100;return"["+F+(P[(N-20)%10]||P[N]||P[0])+"]"}},z=function(F,P,N){var H=String(F);return!H||H.length>=P?F:""+Array(P+1-H.length).join(N)+F},D={s:z,z:function(F){var P=-F.utcOffset(),N=Math.abs(P),H=Math.floor(N/60),I=N%60;return(P<=0?"+":"-")+z(H,2,"0")+":"+z(I,2,"0")},m:function F(P,N){if(P.date()<N.date())return-F(N,P);var H=12*(N.year()-P.year())+(N.month()-P.month()),I=P.clone().add(H,w),q=N-I<0,B=P.clone().add(H+(q?-1:1),w);return+(-(H+(N-I)/(q?I-B:B-I))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:w,y:C,w:y,d:b,D:A,h:g,m:v,s:h,ms:l,Q:V}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},X="en",G={};G[X]=j;var Z=function(F){return F instanceof ae},ee=function F(P,N,H){var I;if(!P)return X;if(typeof P=="string"){var q=P.toLowerCase();G[q]&&(I=q),N&&(G[q]=N,I=q);var B=P.split("-");if(!I&&B.length>1)return F(B[0])}else{var ne=P.name;G[ne]=P,I=ne}return!H&&I&&(X=I),I||!H&&X},_=function(F,P){if(Z(F))return F.clone();var N=typeof P=="object"?P:{};return N.date=F,N.args=arguments,new ae(N)},Y=D;Y.l=ee,Y.i=Z,Y.w=function(F,P){return _(F,{locale:P.$L,utc:P.$u,x:P.$x,$offset:P.$offset})};var ae=function(){function F(N){this.$L=ee(N.locale,null,!0),this.parse(N)}var P=F.prototype;return P.parse=function(N){this.$d=function(H){var I=H.date,q=H.utc;if(I===null)return new Date(NaN);if(Y.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var B=I.match(O);if(B){var ne=B[2]-1||0,oe=(B[7]||"0").substring(0,3);return q?new Date(Date.UTC(B[1],ne,B[3]||1,B[4]||0,B[5]||0,B[6]||0,oe)):new Date(B[1],ne,B[3]||1,B[4]||0,B[5]||0,B[6]||0,oe)}}return new Date(I)}(N),this.$x=N.x||{},this.init()},P.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},P.$utils=function(){return Y},P.isValid=function(){return this.$d.toString()!==T},P.isSame=function(N,H){var I=_(N);return this.startOf(H)<=I&&I<=this.endOf(H)},P.isAfter=function(N,H){return _(N)<this.startOf(H)},P.isBefore=function(N,H){return this.endOf(H)<_(N)},P.$g=function(N,H,I){return Y.u(N)?this[H]:this.set(I,N)},P.unix=function(){return Math.floor(this.valueOf()/1e3)},P.valueOf=function(){return this.$d.getTime()},P.startOf=function(N,H){var I=this,q=!!Y.u(H)||H,B=Y.p(N),ne=function(ve,de){var pe=Y.w(I.$u?Date.UTC(I.$y,de,ve):new Date(I.$y,de,ve),I);return q?pe:pe.endOf(b)},oe=function(ve,de){return Y.w(I.toDate()[ve].apply(I.toDate("s"),(q?[0,0,0,0]:[23,59,59,999]).slice(de)),I)},se=this.$W,ue=this.$M,me=this.$D,he="set"+(this.$u?"UTC":"");switch(B){case C:return q?ne(1,0):ne(31,11);case w:return q?ne(1,ue):ne(0,ue+1);case y:var Ee=this.$locale().weekStart||0,xe=(se<Ee?se+7:se)-Ee;return ne(q?me-xe:me+(6-xe),ue);case b:case A:return oe(he+"Hours",0);case g:return oe(he+"Minutes",1);case v:return oe(he+"Seconds",2);case h:return oe(he+"Milliseconds",3);default:return this.clone()}},P.endOf=function(N){return this.startOf(N,!1)},P.$set=function(N,H){var I,q=Y.p(N),B="set"+(this.$u?"UTC":""),ne=(I={},I[b]=B+"Date",I[A]=B+"Date",I[w]=B+"Month",I[C]=B+"FullYear",I[g]=B+"Hours",I[v]=B+"Minutes",I[h]=B+"Seconds",I[l]=B+"Milliseconds",I)[q],oe=q===b?this.$D+(H-this.$W):H;if(q===w||q===C){var se=this.clone().set(A,1);se.$d[ne](oe),se.init(),this.$d=se.set(A,Math.min(this.$D,se.daysInMonth())).$d}else ne&&this.$d[ne](oe);return this.init(),this},P.set=function(N,H){return this.clone().$set(N,H)},P.get=function(N){return this[Y.p(N)]()},P.add=function(N,H){var I,q=this;N=Number(N);var B=Y.p(H),ne=function(ue){var me=_(q);return Y.w(me.date(me.date()+Math.round(ue*N)),q)};if(B===w)return this.set(w,this.$M+N);if(B===C)return this.set(C,this.$y+N);if(B===b)return ne(1);if(B===y)return ne(7);var oe=(I={},I[v]=o,I[g]=a,I[h]=d,I)[B]||1,se=this.$d.getTime()+N*oe;return Y.w(se,this)},P.subtract=function(N,H){return this.add(-1*N,H)},P.format=function(N){var H=this,I=this.$locale();if(!this.isValid())return I.invalidDate||T;var q=N||"YYYY-MM-DDTHH:mm:ssZ",B=Y.z(this),ne=this.$H,oe=this.$m,se=this.$M,ue=I.weekdays,me=I.months,he=function(de,pe,W,_e){return de&&(de[pe]||de(H,q))||W[pe].slice(0,_e)},Ee=function(de){return Y.s(ne%12||12,de,"0")},xe=I.meridiem||function(de,pe,W){var _e=de<12?"AM":"PM";return W?_e.toLowerCase():_e},ve={YY:String(this.$y).slice(-2),YYYY:this.$y,M:se+1,MM:Y.s(se+1,2,"0"),MMM:he(I.monthsShort,se,me,3),MMMM:he(me,se),D:this.$D,DD:Y.s(this.$D,2,"0"),d:String(this.$W),dd:he(I.weekdaysMin,this.$W,ue,2),ddd:he(I.weekdaysShort,this.$W,ue,3),dddd:ue[this.$W],H:String(ne),HH:Y.s(ne,2,"0"),h:Ee(1),hh:Ee(2),a:xe(ne,oe,!0),A:xe(ne,oe,!1),m:String(oe),mm:Y.s(oe,2,"0"),s:String(this.$s),ss:Y.s(this.$s,2,"0"),SSS:Y.s(this.$ms,3,"0"),Z:B};return q.replace(L,function(de,pe){return pe||ve[de]||B.replace(":","")})},P.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},P.diff=function(N,H,I){var q,B=Y.p(H),ne=_(N),oe=(ne.utcOffset()-this.utcOffset())*o,se=this-ne,ue=Y.m(this,ne);return ue=(q={},q[C]=ue/12,q[w]=ue,q[V]=ue/3,q[y]=(se-oe)/6048e5,q[b]=(se-oe)/864e5,q[g]=se/a,q[v]=se/o,q[h]=se/d,q)[B]||se,I?ue:Y.a(ue)},P.daysInMonth=function(){return this.endOf(w).$D},P.$locale=function(){return G[this.$L]},P.locale=function(N,H){if(!N)return this.$L;var I=this.clone(),q=ee(N,H,!0);return q&&(I.$L=q),I},P.clone=function(){return Y.w(this.$d,this)},P.toDate=function(){return new Date(this.valueOf())},P.toJSON=function(){return this.isValid()?this.toISOString():null},P.toISOString=function(){return this.$d.toISOString()},P.toString=function(){return this.$d.toUTCString()},F}(),ie=ae.prototype;return _.prototype=ie,[["$ms",l],["$s",h],["$m",v],["$H",g],["$W",b],["$M",w],["$y",C],["$D",A]].forEach(function(F){ie[F[1]]=function(P){return this.$g(P,F[0],F[1])}}),_.extend=function(F,P){return F.$i||(F(P,ae,_),F.$i=!0),_},_.locale=ee,_.isDayjs=Z,_.unix=function(F){return _(1e3*F)},_.en=G[X],_.Ls=G,_.p={},_}();var rt=Kt,en={};({get exports(){return en},set exports(d){en=d}}).exports=function(){var d={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,h=/\d*[^-_:/,()\s\d]+/,v={},g=function(T){return(T=+T)+(T>68?1900:2e3)},b=function(T){return function(O){this[T]=+O}},y=[/[+-]\d\d:?(\d\d)?|Z/,function(T){(this.zone||(this.zone={})).offset=function(O){if(!O||O==="Z")return 0;var L=O.match(/([+-]|\d\d)/g),j=60*L[1]+(+L[2]||0);return j===0?0:L[0]==="+"?-j:j}(T)}],w=function(T){var O=v[T];return O&&(O.indexOf?O:O.s.concat(O.f))},V=function(T,O){var L,j=v.meridiem;if(j){for(var z=1;z<=24;z+=1)if(T.indexOf(j(z,0,O))>-1){L=z>12;break}}else L=T===(O?"pm":"PM");return L},C={A:[h,function(T){this.afternoon=V(T,!1)}],a:[h,function(T){this.afternoon=V(T,!0)}],S:[/\d/,function(T){this.milliseconds=100*+T}],SS:[a,function(T){this.milliseconds=10*+T}],SSS:[/\d{3}/,function(T){this.milliseconds=+T}],s:[l,b("seconds")],ss:[l,b("seconds")],m:[l,b("minutes")],mm:[l,b("minutes")],H:[l,b("hours")],h:[l,b("hours")],HH:[l,b("hours")],hh:[l,b("hours")],D:[l,b("day")],DD:[a,b("day")],Do:[h,function(T){var O=v.ordinal,L=T.match(/\d+/);if(this.day=L[0],O)for(var j=1;j<=31;j+=1)O(j).replace(/\[|\]/g,"")===T&&(this.day=j)}],M:[l,b("month")],MM:[a,b("month")],MMM:[h,function(T){var O=w("months"),L=(w("monthsShort")||O.map(function(j){return j.slice(0,3)})).indexOf(T)+1;if(L<1)throw new Error;this.month=L%12||L}],MMMM:[h,function(T){var O=w("months").indexOf(T)+1;if(O<1)throw new Error;this.month=O%12||O}],Y:[/[+-]?\d+/,b("year")],YY:[a,function(T){this.year=g(T)}],YYYY:[/\d{4}/,b("year")],Z:y,ZZ:y};function A(T){var O,L;O=T,L=v&&v.formats;for(var j=(T=O.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(_,Y,ae){var ie=ae&&ae.toUpperCase();return Y||L[ae]||d[ae]||L[ie].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(F,P,N){return P||N.slice(1)})})).match(o),z=j.length,D=0;D<z;D+=1){var X=j[D],G=C[X],Z=G&&G[0],ee=G&&G[1];j[D]=ee?{regex:Z,parser:ee}:X.replace(/^\[|\]$/g,"")}return function(_){for(var Y={},ae=0,ie=0;ae<z;ae+=1){var F=j[ae];if(typeof F=="string")ie+=F.length;else{var P=F.regex,N=F.parser,H=_.slice(ie),I=P.exec(H)[0];N.call(Y,I),_=_.replace(I,"")}}return function(q){var B=q.afternoon;if(B!==void 0){var ne=q.hours;B?ne<12&&(q.hours+=12):ne===12&&(q.hours=0),delete q.afternoon}}(Y),Y}}return function(T,O,L){L.p.customParseFormat=!0,T&&T.parseTwoDigitYear&&(g=T.parseTwoDigitYear);var j=O.prototype,z=j.parse;j.parse=function(D){var X=D.date,G=D.utc,Z=D.args;this.$u=G;var ee=Z[1];if(typeof ee=="string"){var _=Z[2]===!0,Y=Z[3]===!0,ae=_||Y,ie=Z[2];Y&&(ie=Z[2]),v=this.$locale(),!_&&ie&&(v=L.Ls[ie]),this.$d=function(H,I,q){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*H);var B=A(I)(H),ne=B.year,oe=B.month,se=B.day,ue=B.hours,me=B.minutes,he=B.seconds,Ee=B.milliseconds,xe=B.zone,ve=new Date,de=se||(ne||oe?1:ve.getDate()),pe=ne||ve.getFullYear(),W=0;ne&&!oe||(W=oe>0?oe-1:ve.getMonth());var _e=ue||0,Te=me||0,Ne=he||0,$e=Ee||0;return xe?new Date(Date.UTC(pe,W,de,_e,Te,Ne,$e+60*xe.offset*1e3)):q?new Date(Date.UTC(pe,W,de,_e,Te,Ne,$e)):new Date(pe,W,de,_e,Te,Ne,$e)}catch{return new Date("")}}(X,ee,G),this.init(),ie&&ie!==!0&&(this.$L=this.locale(ie).$L),ae&&X!=this.format(ee)&&(this.$d=new Date("")),v={}}else if(ee instanceof Array)for(var F=ee.length,P=1;P<=F;P+=1){Z[1]=ee[P-1];var N=L.apply(this,Z);if(N.isValid()){this.$d=N.$d,this.$L=N.$L,this.init();break}P===F&&(this.$d=new Date(""))}else z.call(this,D)}}}();var Vr=en;rt.extend(Vr);const ii=(d,o)=>{let a;if(o)switch(o){case"ISO_8601":a=d;break;case"RFC_2822":a=rt(d.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":a=rt(d,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":a=rt(d).unix();break;default:a=rt(d,o,!0).valueOf()}return a},Le=(d,o)=>{if((d==null?void 0:d.constructor)===Object&&Object.prototype.hasOwnProperty.call(d,"data")&&!Object.keys(d).find(l=>!["text","order","data"].includes(l)))return d;const a={data:d};switch(o.type){case"string":typeof d!="string"&&(a.text=String(a.data),a.order=a.text);break;case"date":o.format&&(a.order=ii(String(a.data),o.format));break;case"number":a.text=String(a.data),a.data=parseInt(a.data,10);break;case"html":{const l=Array.isArray(a.data)?{nodeName:"TD",childNodes:a.data}:Ce(`<td>${String(a.data)}</td>`);a.data=l.childNodes||[];const h=Et(l);a.text=h,a.order=h;break}case"boolean":typeof a.data=="string"&&(a.data=a.data.toLowerCase().trim()),a.data=!["false",!1,null,void 0,0].includes(a.data),a.order=a.data?1:0,a.text=String(a.data);break;case"other":a.text="",a.order=0;break;default:a.text=JSON.stringify(a.data)}return a},ot=d=>{if(d instanceof Object&&d.constructor===Object&&d.hasOwnProperty("data")&&(typeof d.text=="string"||typeof d.data=="string"))return d;const o={data:d};if(typeof d=="string"){if(d.length){const a=Ce(`<th>${d}</th>`);if(a.childNodes&&(a.childNodes.length!==1||a.childNodes[0].nodeName!=="#text")){o.data=a.childNodes,o.type="html";const l=Et(a);o.text=l}}}else[null,void 0].includes(d)?o.text="":o.text=JSON.stringify(d);return o},ei=(d,o,a,l,h)=>{var g,b;const v={data:[],headings:[]};d.headings?v.headings=d.headings.map(y=>ot(y)):o!=null&&o.tHead?v.headings=Array.from(o.tHead.querySelectorAll("th")).map((y,w)=>{var A,T,O,L,j;const V=(z=>{const D=Ie(z,{valueDiffing:!1});let X;return X=!D.childNodes||D.childNodes.length===1&&D.childNodes[0].nodeName==="#text"?{data:z.innerText,type:"string"}:{data:D.childNodes,type:"html",text:Et(D)},X})(y);a[w]||(a[w]={type:l,format:h,searchable:!0,sortable:!0,isSplitQueryWord:!0});const C=a[w];return((A=y.dataset.sortable)==null?void 0:A.trim().toLowerCase())!=="false"&&((T=y.dataset.sort)==null?void 0:T.trim().toLowerCase())!=="false"||(C.sortable=!1),((O=y.dataset.searchable)==null?void 0:O.trim().toLowerCase())==="false"&&(C.searchable=!1),((L=y.dataset.hidden)==null?void 0:L.trim().toLowerCase())!=="true"&&((j=y.getAttribute("hidden"))==null?void 0:j.trim().toLowerCase())!=="true"||(C.hidden=!0),["number","string","html","date","boolean","other"].includes(y.dataset.type)&&(C.type=y.dataset.type,C.type==="date"&&y.dataset.format&&(C.format=y.dataset.format)),V}):(g=d.data)!=null&&g.length?v.headings=d.data[0].map(y=>ot("")):o!=null&&o.tBodies.length&&(v.headings=Array.from(o.tBodies[0].rows[0].cells).map(y=>ot("")));for(let y=0;y<v.headings.length;y++)a[y]||(a[y]={type:l,format:h,sortable:!0,searchable:!0});if(d.data?v.data=d.data.map(y=>y.map((w,V)=>Le(w,a[V]))):(b=o==null?void 0:o.tBodies)!=null&&b.length&&(v.data=Array.from(o.tBodies[0].rows).map(y=>Array.from(y.cells).map((w,V)=>{const C=w.dataset.content?Le(w.dataset.content,a[V]):((A,T)=>{let O;switch(T.type){case"string":O={data:A.innerText};break;case"date":{const L=A.innerText;O={data:L,order:ii(L,T.format)};break}case"number":O={data:parseInt(A.innerText,10),text:A.innerText};break;case"boolean":{const L=!["false","0","null","undefined"].includes(A.innerText.toLowerCase().trim());O={data:L,order:L?1:0,text:L?"1":"0"};break}default:O={data:Ie(A,{valueDiffing:!1}).childNodes||[],text:A.innerText,order:A.innerText}}return O})(w,a[V]);return w.dataset.order&&(C.order=isNaN(parseFloat(w.dataset.order))?w.dataset.order:parseFloat(w.dataset.order)),C}))),v.data.length&&v.data[0].length!==v.headings.length)throw new Error("Data heading length mismatch.");return v};class Ir{constructor(o){this.dt=o,this.cursor=!1}setCursor(o=!1){if(o===this.cursor)return;const a=this.cursor;if(this.cursor=o,this.dt._renderTable(),o!==!1&&this.dt.options.scrollY){const l=this.dt.dom.querySelector(`tr.${this.dt.options.classes.cursor}`);l&&l.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,a)}add(o){const a=o.map((l,h)=>{const v=this.dt.columns.settings[h];return Le(l,v)});this.dt.data.data.push(a),this.dt.data.data.length&&(this.dt.hasRows=!0),this.dt.update(!0)}remove(o){if(!Array.isArray(o))return this.remove([o]);this.dt.data.data=this.dt.data.data.filter((a,l)=>!o.includes(l)),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(o,a){return this.dt.data.data.findIndex(l=>(l[o].text??String(l[o].data)).toLowerCase().includes(String(a).toLowerCase()))}findRow(o,a){const l=this.findRowIndex(o,a);if(l<0)return{index:-1,row:null,cols:[]};const h=this.dt.data.data[l],v=h.map(g=>g.data);return{index:l,row:h,cols:v}}updateRow(o,a){const l=a.map((h,v)=>{const g=this.dt.columns.settings[v];return Le(h,g)});this.dt.data.data.splice(o,1,l),this.dt.update(!0)}}class Cr{constructor(o){this.dt=o,this.init()}init(){[this.settings,this._state]=((o=[],a,l)=>{let h=[],v=!1;const g=[];return o.forEach(b=>{(Array.isArray(b.select)?b.select:[b.select]).forEach(y=>{h[y]||(h[y]={type:b.type||a,sortable:!0,searchable:!0,isSplitQueryWord:!0,searchQuerySeparator:" "});const w=h[y];b.render&&(w.render=b.render),b.format?w.format=b.format:b.type==="date"&&(w.format=l),b.cellClass&&(w.cellClass=b.cellClass),b.headerClass&&(w.headerClass=b.headerClass),b.locale&&(w.locale=b.locale),b.sortable===!1?w.sortable=!1:(b.numeric&&(w.numeric=b.numeric),b.caseFirst&&(w.caseFirst=b.caseFirst)),b.searchable===!1?w.searchable=!1:b.sensitivity&&(w.sensitivity=b.sensitivity),(w.searchable||w.sortable)&&b.ignorePunctuation&&(w.ignorePunctuation=b.ignorePunctuation),b.hidden&&(w.hidden=!0),b.filter&&(w.filter=b.filter),b.sortSequence&&(w.sortSequence=b.sortSequence),b.sort&&(b.filter?g[y]=b.sort:v={column:y,dir:b.sort}),b.isSplitQueryWord!==void 0&&(w.isSplitQueryWord=b.isSplitQueryWord),b.searchQuerySeparator!==void 0&&(w.searchQuerySeparator=b.searchQuerySeparator)})}),h=h.map(b=>b||{type:a,format:a==="date"?l:void 0,sortable:!0,searchable:!0,isSplitQueryWord:!0,searchQuerySeparator:" "}),[h,{filters:g,sort:v,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}swap(o){if(o.length===2){const a=this.dt.data.headings.map((g,b)=>b),l=o[0],h=o[1],v=a[h];return a[h]=a[l],a[l]=v,this.order(a)}}order(o){this.dt.data.headings=o.map(a=>this.dt.data.headings[a]),this.dt.data.data=this.dt.data.data.map(a=>o.map(l=>a[l])),this.settings=o.map(a=>this.settings[a]),this.dt.update()}hide(o){o.length&&(o.forEach(a=>{this.settings[a]||(this.settings[a]={type:"string"}),this.settings[a].hidden=!0}),this.dt.update())}show(o){o.length&&(o.forEach(a=>{this.settings[a]||(this.settings[a]={type:"string",sortable:!0}),delete this.settings[a].hidden}),this.dt.update())}visible(o){var a;return o===void 0&&(o=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(o)?o.map(l=>{var h;return!((h=this.settings[l])!=null&&h.hidden)}):!((a=this.settings[o])!=null&&a.hidden)}add(o){const a=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([ot(o.heading)]),this.dt.data.data=this.dt.data.data.map((l,h)=>l.concat([Le(o.data[h],o)])),this.settings[a]={type:o.type||"string",sortable:!0,searchable:!0},o.type||o.format||o.sortable||o.render||o.filter){const l=this.settings[a];o.render&&(l.render=o.render),o.format&&(l.format=o.format),o.cellClass&&(l.cellClass=o.cellClass),o.headerClass&&(l.headerClass=o.headerClass),o.locale&&(l.locale=o.locale),o.sortable===!1?l.sortable=!1:(o.numeric&&(l.numeric=o.numeric),o.caseFirst&&(l.caseFirst=o.caseFirst)),o.searchable===!1?l.searchable=!1:o.sensitivity&&(l.sensitivity=o.sensitivity),(l.searchable||l.sortable)&&o.ignorePunctuation&&(l.ignorePunctuation=o.ignorePunctuation),o.hidden&&(l.hidden=!0),o.filter&&(l.filter=o.filter),o.sortSequence&&(l.sortSequence=o.sortSequence)}this.dt.update(!0)}remove(o){if(!Array.isArray(o))return this.remove([o]);this.dt.data.headings=this.dt.data.headings.filter((a,l)=>!o.includes(l)),this.dt.data.data=this.dt.data.data.map(a=>a.filter((l,h)=>!o.includes(h))),this.dt.update(!0)}filter(o,a=!1){var v,g;if(!((g=(v=this.settings[o])==null?void 0:v.filter)!=null&&g.length))return;const l=this._state.filters[o];let h;if(l){let b=!1;h=this.settings[o].filter.find(y=>!!b||(y===l&&(b=!0),!1))}else{const b=this.settings[o].filter;h=b?b[0]:void 0}h?this._state.filters[o]=h:l&&(this._state.filters[o]=void 0),this.dt._currentPage=1,this.dt.update(),a||this.dt.emit("datatable.filter",o,h)}sort(o,a,l=!1){var g;const h=this.settings[o];if(l||this.dt.emit("datatable.sorting",o,a),!a){const b=!(!this._state.sort||this._state.sort.column!==o)&&((g=this._state.sort)==null?void 0:g.dir),y=(h==null?void 0:h.sortSequence)||["asc","desc"];if(b){const w=y.indexOf(b);a=w===-1?y[0]||"asc":w===y.length-1?y[0]:y[w+1]}else a=y.length?y[0]:"asc"}const v=!!["string","html"].includes(h.type)&&new Intl.Collator(h.locale||this.dt.options.locale,{usage:"sort",numeric:h.numeric||this.dt.options.numeric,caseFirst:h.caseFirst||this.dt.options.caseFirst,ignorePunctuation:h.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort((b,y)=>{let w=b[o].order||b[o].data,V=y[o].order||y[o].data;if(a==="desc"){const C=w;w=V,V=C}return v?v.compare(String(w),String(V)):w<V?-1:w>V?1:0}),this._state.sort={column:o,dir:a},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",o,a)):l||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",o,a))}_measureWidths(){var a,l,h,v;const o=this.dt.data.headings.filter((g,b)=>{var y;return!((y=this.settings[b])!=null&&y.hidden)});if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&(o!=null&&o.length)){this._state.widths=[];const g={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(g.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),g.noColumnWidths=!0,this.dt._renderTable(g);const b=Array.from(((l=(a=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:a.firstElementChild)==null?void 0:l.querySelectorAll("th"))||[]);let y=0;const w=this.dt.data.headings.map((C,A)=>{var O;if((O=this.settings[A])!=null&&O.hidden)return 0;const T=b[y].offsetWidth;return y+=1,T}),V=w.reduce((C,A)=>C+A,0);this._state.widths=w.map(C=>C/V*100)}else{g.renderHeader=!0,this.dt._renderTable(g);const b=Array.from(((v=(h=this.dt.dom.querySelector("thead, tfoot"))==null?void 0:h.firstElementChild)==null?void 0:v.querySelectorAll("th"))||[]);let y=0;const w=this.dt.data.headings.map((C,A)=>{var O;if((O=this.settings[A])!=null&&O.hidden)return 0;const T=b[y].offsetWidth;return y+=1,T}),V=w.reduce((C,A)=>C+A,0);this._state.widths=w.map(C=>C/V*100)}this.dt._renderTable()}}}const bt={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,isSplitQueryWord:!0,searchQuerySeparator:" ",data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"",nextText:"",firstText:"",lastText:"",ellipsisText:"",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,diffDomOptions:{valueDiffing:!1},labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(d,o)=>`<div class='${d.classes.top}'>
    ${d.paging&&d.perPageSelect?`<div class='${d.classes.dropdown}'>
            <label>
                <select class='${d.classes.selector}'></select> ${d.labels.perPage}
            </label>
        </div>`:""}
    ${d.searchable?`<div class='${d.classes.search}'>
            <input class='${d.classes.input}' placeholder='${d.labels.placeholder}' type='search' title='${d.labels.searchTitle}'${o.id?` aria-controls="${o.id}"`:""}>
        </div>`:""}
</div>
<div class='${d.classes.container}'${d.scrollY.length?` style='height: ${d.scrollY}; overflow-Y: auto;'`:""}></div>
<div class='${d.classes.bottom}'>
    ${d.paging?`<div class='${d.classes.info}'></div>`:""}
    <nav class='${d.classes.pagination}'></nav>
</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},it=(d,o,a,l={})=>({nodeName:"LI",attributes:{class:l.active&&!l.hidden?`${a.classes.paginationListItem} ${a.classes.active}`:l.hidden?`${a.classes.paginationListItem} ${a.classes.hidden} ${a.classes.disabled}`:a.classes.paginationListItem},childNodes:[{nodeName:"A",attributes:{"data-page":String(d),class:a.classes.paginationListItemLink},childNodes:[{nodeName:"#text",data:o}]}]}),Lr=(d,o,a,l,h)=>{let v=[];if(h.firstLast&&v.push(it(1,h.firstText,h)),h.nextPrev){const b=d?1:a-1;v.push(it(b,h.prevText,h,{hidden:d}))}let g=[...Array(l).keys()].map(b=>it(b+1,String(b+1),h,{active:b===a-1}));if(h.truncatePager&&(g=((b,y,w,V)=>{const C=V.pagerDelta,A=V.classes,T=V.ellipsisText,O=2*C;let L=y-C,j=y+C;y<4-C+O?j=3+O:y>w-(3-C+O)&&(L=w-(2+O));const z=[];for(let G=1;G<=w;G++)if(G==1||G==w||G>=L&&G<=j){const Z=b[G-1];z.push(Z)}let D;const X=[];return z.forEach(G=>{const Z=parseInt(G.childNodes[0].attributes["data-page"],10);if(D){const ee=parseInt(D.childNodes[0].attributes["data-page"],10);if(Z-ee==2)X.push(b[ee]);else if(Z-ee!=1){const _={nodeName:"LI",attributes:{class:`${A.paginationListItem} ${A.ellipsis} ${A.disabled}`},childNodes:[{nodeName:"A",attributes:{class:A.paginationListItemLink},childNodes:[{nodeName:"#text",data:T}]}]};X.push(_)}}X.push(G),D=G}),X})(g,a,l,h)),v=v.concat(g),h.nextPrev){const b=o?l:a+1;v.push(it(b,h.nextText,h,{hidden:o}))}return h.firstLast&&v.push(it(l,h.lastText,h)),{nodeName:"UL",attributes:{class:h.classes.paginationList},childNodes:g.length>1?v:[]}};class $r{constructor(o,a={}){const l=typeof o=="string"?document.querySelector(o):o;l instanceof HTMLTableElement?this.dom=l:(this.dom=document.createElement("table"),l.appendChild(this.dom));const h={...bt.diffDomOptions,...a.diffDomOptions},v={...bt.labels,...a.labels},g={...bt.classes,...a.classes};this.options={...bt,...a,diffDomOptions:h,labels:v,classes:g},this._initialInnerHTML=this.options.destroyable?this.dom.innerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&this.dom.tabIndex===-1&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new Ar(this.options.diffDomOptions||{}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||this.dom.classList.contains(this.options.classes.table))return!1;this._virtualDOM=Ie(this.dom,this.options.diffDomOptions||{}),this._tableAttributes={...this._virtualDOM.attributes},this.rows=new Ir(this),this.columns=new Cr(this),this.data=ei(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout(()=>{this.emit("datatable.init"),this.initialized=!0},10)}_render(){this.wrapperDOM=Un("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const o=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);o&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach(a=>{const[l,h]=Array.isArray(a)?[a[0],a[1]]:[String(a),a],v=h===this.options.perPage,g=new Option(l,String(h),v,v);o.appendChild(g)}):o&&o.parentElement.removeChild(o),this.containerDOM=this.wrapperDOM.querySelector(`.${this.options.classes.container}`),this._pagerDOMs=[],Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.pagination}`)).forEach(a=>{a instanceof HTMLElement&&(a.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(a.firstElementChild))}),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}},this._label=this.wrapperDOM.querySelector(`.${this.options.classes.info}`),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(o={}){let a=Kn(this._tableAttributes,this.data.headings,(this.options.paging||this._searchQueries.length||this.columns._state.filters.length)&&this._currentPage&&this.pages.length&&!o.noPaging?this.pages[this._currentPage-1]:this.data.data.map((h,v)=>({row:h,index:v})),this.columns.settings,this.columns._state,this.rows.cursor,this.options,o);if(this.options.tableRender){const h=this.options.tableRender(this.data,a,"main");h&&(a=h)}const l=this._dd.diff(this._virtualDOM,a);this._dd.apply(this.dom,l),this._virtualDOM=a}_renderPage(o=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=this._currentPage===1,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let a,l=0,h=0,v=0;if(this.totalPages&&(l=this._currentPage-1,h=l*this.options.perPage,v=h+this.pages[l].length,h+=1,a=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const g=this.options.labels.info.replace("{start}",String(h)).replace("{end}",String(v)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(a));this._label.innerHTML=a?g:""}if(this._currentPage==1&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find(g=>g.index===this.rows.cursor))){const g=this.pages[this._currentPage-1];g.length&&(o?this.rows.setCursor(g[g.length-1].index):this.rows.setCursor(g[0].index))}}_renderPagers(){if(!this.options.paging)return;let o=Lr(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const l=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],o);l&&(o=l)}const a=this._dd.diff(this._virtualPagerDOM,o);this._pagerDOMs.forEach(l=>{this._dd.apply(l,a)}),this._virtualPagerDOM=o}_renderSeparateHeader(){const o=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),o.parentElement.insertBefore(this.headerDOM,o);let a={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[Zt(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(a.attributes.class=a.attributes.class?`${a.attributes.class} ${this.options.classes.table}`:this.options.classes.table,this.options.tableRender){const g=this.options.tableRender(this.data,a,"header");g&&(a=g)}const l={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[a]},h=this._dd.diff(this._virtualHeaderDOM,l);this._dd.apply(this.headerDOM,h),this._virtualHeaderDOM=l;const v=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(v){const g=structuredClone(this._virtualHeaderDOM);g.attributes.style=`padding-right: ${v}px;`;const b=this._dd.diff(this._virtualHeaderDOM,g);this._dd.apply(this.headerDOM,b),this._virtualHeaderDOM=g}o.scrollHeight>o.clientHeight&&(o.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const o=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);o&&o instanceof HTMLSelectElement&&o.addEventListener("change",()=>{this.options.perPage=parseInt(o.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)},!1)}this.options.searchable&&this.wrapperDOM.addEventListener("input",o=>{const a=o.target;if(!(a instanceof HTMLInputElement&&a.matches(`.${this.options.classes.input}`)))return;o.preventDefault();const l=Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).filter(h=>h.value.length).map(h=>h.dataset.columns?{term:h.value,columns:JSON.parse(h.dataset.columns)}:{term:h.value,columns:void 0});if(l.length===1){const h=l[0];this.search(h.term,h.columns)}else this.multiSearch(l)}),this.wrapperDOM.addEventListener("click",o=>{const a=o.target.closest("a");if(a){if(a.hasAttribute("data-page"))this.page(parseInt(a.getAttribute("data-page"),10)),o.preventDefault();else if(a.classList.contains(this.options.classes.sorter)){const l=Array.from(a.parentElement.parentElement.children).indexOf(a.parentElement),h=Gn(l,this.columns.settings);this.columns.sort(h),o.preventDefault()}else if(a.classList.contains(this.options.classes.filter)){const l=Array.from(a.parentElement.parentElement.children).indexOf(a.parentElement),h=Gn(l,this.columns.settings);this.columns.filter(h),o.preventDefault()}}},!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",o=>{if(o.key==="ArrowUp"){let a;o.preventDefault(),o.stopPropagation(),this.pages[this._currentPage-1].find(l=>l.index===this.rows.cursor||(a=l,!1)),a?this.rows.setCursor(a.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if(o.key==="ArrowDown"){let a;o.preventDefault(),o.stopPropagation();const l=this.pages[this._currentPage-1].find(h=>!!a||(h.index===this.rows.cursor&&(a=!0),!1));l?this.rows.setCursor(l.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(o.key)&&this.emit("datatable.selectrow",this.rows.cursor,o)}),this.dom.addEventListener("mousedown",o=>{const a=o.target;if(a instanceof Element&&this.dom.matches(":focus")){const l=Array.from(this.dom.querySelectorAll("body tr")).find(h=>h.contains(a));l&&l instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(l.dataset.index,10),o)}})):this.dom.addEventListener("mousedown",o=>{const a=o.target;if(!(a instanceof Element))return;const l=Array.from(this.dom.querySelectorAll("body tr")).find(h=>h.contains(a));l&&l instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(l.dataset.index,10),o)}),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){this.options.destroyable&&(this.dom.innerHTML=this._initialInnerHTML,this.dom.classList.remove(this.options.classes.table),this.wrapperDOM.parentElement&&this.wrapperDOM.parentElement.replaceChild(this.dom,this.wrapperDOM),this.initialized=!1,window.removeEventListener("resize",this._listeners.onResize))}update(o=!1){o&&(this.columns._measureWidths(),this.hasRows=!!this.data.data.length,this.hasHeadings=!!this.data.headings.length),this.wrapperDOM.classList.remove(this.options.classes.empty),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let o=this.data.data.map((a,l)=>({row:a,index:l}));return this._searchQueries.length&&(o=[],this._searchData.forEach(a=>o.push({index:a,row:this.data.data[a]}))),this.columns._state.filters.length&&this.columns._state.filters.forEach((a,l)=>{a&&(o=o.filter(h=>typeof a=="function"?a(h.row[l].data):(h.row[l].text??h.row[l].data)===a))}),this.options.paging&&this.options.perPage>0?this.pages=o.map((a,l)=>l%this.options.perPage==0?o.slice(l,l+this.options.perPage):null).filter(a=>a):this.pages=[o],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(o,a){if(!o.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{term:o,columns:a||void 0}]),this.emit("datatable.search",o,this._searchData)}multiSearch(o){if(!this.hasRows)return!1;if(this._currentPage=1,this._searchQueries=o,this._searchData=[],!(o=o.filter(l=>l.term.length)).length)return this.update(),this.emit("datatable.multisearch",o,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const a=o.map(l=>this.columns.settings.map((h,v)=>{if(h.hidden||!h.searchable||l.columns&&!l.columns.includes(v))return!1;let g=l.term;const b=h.sensitivity||this.options.sensitivity;return["base","accent"].includes(b)&&(g=g.toLowerCase()),["base","case"].includes(b)&&(g=g.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(h.ignorePunctuation||this.options.ignorePunctuation)&&(g=g.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,"")),g}));this.data.data.forEach((l,h)=>{const v=l.map((g,b)=>{let y=(g.text||String(g.data)).trim();if(y.length){const w=this.columns.settings[b],V=w.sensitivity||this.options.sensitivity;["base","accent"].includes(V)&&(y=y.toLowerCase()),["base","case"].includes(V)&&(y=y.normalize("NFD").replace(/\p{Diacritic}/gu,"")),(w.ignorePunctuation||this.options.ignorePunctuation)&&(y=y.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}return y});a.every(g=>g.find((b,y)=>!!b&&(this.columns.settings[y].isSplitQueryWord?b.split(this.columns.settings[y].searchQuerySeparator):[b]).find(w=>v[y].includes(w.trim()))))&&this._searchData.push(h)}),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",o,this._searchData)}page(o,a=!1){return o!==this._currentPage&&(isNaN(o)||(this._currentPage=o),!(o>this.pages.length||o<0)&&(this._renderPage(a),this._renderPagers(),void this.emit("datatable.page",o)))}insert(o){let a=[];if(Array.isArray(o)){const l=this.data.headings.map(h=>h.text??String(h.data));o.forEach((h,v)=>{const g=[];Object.entries(h).forEach(([b,y])=>{const w=l.indexOf(b);w>-1?g[w]=Le(y,this.columns.settings[w]):this.hasHeadings||this.hasRows||v!==0||(g[l.length]=Le(y,this.columns.settings[l.length]),l.push(b),this.data.headings.push(ot(b)))}),a.push(g)})}else wr(o)&&(!o.headings||this.hasHeadings||this.hasRows?o.data&&Array.isArray(o.data)&&(a=o.data.map(l=>l.map((h,v)=>Le(h,this.columns.settings[v])))):this.data=ei(o,void 0,this.columns.settings,this.options.type,this.options.format));a.length&&a.forEach(l=>this.data.data.push(l)),this.hasHeadings=!!this.data.headings.length,this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){this.options.searchable&&(Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).forEach(o=>{o.value=""}),this._searchQueries=[]),this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const o=Un("table");let a=Kn(this._tableAttributes,this.data.headings,this.data.data.map((v,g)=>({row:v,index:g})),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0});if(this.options.tableRender){const v=this.options.tableRender(this.data,a,"print");v&&(a=v)}const l=this._dd.diff({nodeName:"TABLE"},a);this._dd.apply(o,l);const h=window.open();h.document.body.appendChild(o),h.print()}setMessage(o){const a=this.data.headings.filter((v,g)=>{var b;return!((b=this.columns.settings[g])!=null&&b.hidden)}).length||1;this.wrapperDOM.classList.add(this.options.classes.empty),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let l={nodeName:"TABLE",attributes:this._tableAttributes,childNodes:[{nodeName:"THEAD",childNodes:[Zt(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(a)},childNodes:[{nodeName:"#text",data:o}]}]}]}]};if(l.attributes.class=l.attributes.class?`${l.attributes.class} ${this.options.classes.table}`:this.options.classes.table,this.options.tableRender){const v=this.options.tableRender(this.data,l,"message");v&&(l=v)}const h=this._dd.diff(this._virtualDOM,l);this._dd.apply(this.dom,h),this._virtualDOM=l}on(o,a){this._events[o]=this._events[o]||[],this._events[o].push(a)}off(o,a){o in this._events&&this._events[o].splice(this._events[o].indexOf(a),1)}emit(o,...a){if(o in this._events)for(let l=0;l<this._events[o].length;l++)this._events[o][l](...a)}}var wt={exports:{}};wt.exports;(function(d,o){(function(a,l){d.exports=l()})(_r,function(){function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a(Object(n),!0).forEach(function(i){y(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function h(t){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,L(i.key),i)}}function b(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function y(t,e,n){return(e=L(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(t)}function C(t,e){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C(t,e)}function A(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,i=V(t);if(e){var r=V(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(s,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(s)}(this,n)}}function O(){return O=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(s,c){for(;!Object.prototype.hasOwnProperty.call(s,c)&&(s=V(s))!==null;);return s}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}},O.apply(this,arguments)}function L(t){var e=function(n,i){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var s=r.call(n,i||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(n)}(t,"string");return typeof e=="symbol"?e:e+""}var j=function(t){return!(!t||!t.Window)&&t instanceof t.Window},z=void 0,D=void 0;function X(t){z=t;var e=t.document.createTextNode("");e.ownerDocument!==t.document&&typeof t.wrap=="function"&&t.wrap(e)===e&&(t=t.wrap(t)),D=t}function G(t){return j(t)?t:(t.ownerDocument||t).defaultView||D.window}typeof window<"u"&&window&&X(window);var Z=function(t){return!!t&&h(t)==="object"},ee=function(t){return typeof t=="function"},_={window:function(t){return t===D||j(t)},docFrag:function(t){return Z(t)&&t.nodeType===11},object:Z,func:ee,number:function(t){return typeof t=="number"},bool:function(t){return typeof t=="boolean"},string:function(t){return typeof t=="string"},element:function(t){if(!t||h(t)!=="object")return!1;var e=G(t)||D;return/object|function/.test(typeof Element>"u"?"undefined":h(Element))?t instanceof Element||t instanceof e.Element:t.nodeType===1&&typeof t.nodeName=="string"},plainObject:function(t){return Z(t)&&!!t.constructor&&/function Object\b/.test(t.constructor.toString())},array:function(t){return Z(t)&&t.length!==void 0&&ee(t.splice)}};function Y(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.prepared.axis;n==="x"?(e.coords.cur.page.y=e.coords.start.page.y,e.coords.cur.client.y=e.coords.start.client.y,e.coords.velocity.client.y=0,e.coords.velocity.page.y=0):n==="y"&&(e.coords.cur.page.x=e.coords.start.page.x,e.coords.cur.client.x=e.coords.start.client.x,e.coords.velocity.client.x=0,e.coords.velocity.page.x=0)}}function ae(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="drag"){var i=n.prepared.axis;if(i==="x"||i==="y"){var r=i==="x"?"y":"x";e.page[r]=n.coords.start.page[r],e.client[r]=n.coords.start.client[r],e.delta[r]=0}}}var ie={id:"actions/drag",install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.draggable=ie.draggable,e.map.drag=ie,e.methodDict.drag="draggable",i.actions.drag=ie.defaults},listeners:{"interactions:before-action-move":Y,"interactions:action-resume":Y,"interactions:action-move":ae,"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.buttons,r=n.options.drag;if(r&&r.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||i&n.options.drag.mouseButtons))return t.action={name:"drag",axis:r.lockAxis==="start"?r.startAxis:r.lockAxis},!1}},draggable:function(t){return _.object(t)?(this.options.drag.enabled=t.enabled!==!1,this.setPerAction("drag",t),this.setOnEvents("drag",t),/^(xy|x|y|start)$/.test(t.lockAxis)&&(this.options.drag.lockAxis=t.lockAxis),/^(xy|x|y)$/.test(t.startAxis)&&(this.options.drag.startAxis=t.startAxis),this):_.bool(t)?(this.options.drag.enabled=t,this):this.options.drag},beforeMove:Y,move:ae,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(t){return t.search("drag")===0}},F=ie,P={init:function(t){var e=t;P.document=e.document,P.DocumentFragment=e.DocumentFragment||N,P.SVGElement=e.SVGElement||N,P.SVGSVGElement=e.SVGSVGElement||N,P.SVGElementInstance=e.SVGElementInstance||N,P.Element=e.Element||N,P.HTMLElement=e.HTMLElement||P.Element,P.Event=e.Event,P.Touch=e.Touch||N,P.PointerEvent=e.PointerEvent||e.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function N(){}var H=P,I={init:function(t){var e=H.Element,n=t.navigator||{};I.supportsTouch="ontouchstart"in t||_.func(t.DocumentTouch)&&H.document instanceof t.DocumentTouch,I.supportsPointerEvent=n.pointerEnabled!==!1&&!!H.PointerEvent,I.isIOS=/iP(hone|od|ad)/.test(n.platform),I.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),I.isIe9=/MSIE 9/.test(n.userAgent),I.isOperaMobile=n.appName==="Opera"&&I.supportsTouch&&/Presto/.test(n.userAgent),I.prefixedMatchesSelector="matches"in e.prototype?"matches":"webkitMatchesSelector"in e.prototype?"webkitMatchesSelector":"mozMatchesSelector"in e.prototype?"mozMatchesSelector":"oMatchesSelector"in e.prototype?"oMatchesSelector":"msMatchesSelector",I.pEventTypes=I.supportsPointerEvent?H.PointerEvent===t.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,I.wheelEvent=H.document&&"onmousewheel"in H.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},q=I;function B(t,e){if(t.contains)return t.contains(e);for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function ne(t,e){for(;_.element(t);){if(se(t,e))return t;t=oe(t)}return null}function oe(t){var e=t.parentNode;if(_.docFrag(e)){for(;(e=e.host)&&_.docFrag(e););return e}return e}function se(t,e){return D!==z&&(e=e.replace(/\/deep\//g," ")),t[q.prefixedMatchesSelector](e)}var ue=function(t){return t.parentNode||t.host};function me(t,e){for(var n,i=[],r=t;(n=ue(r))&&r!==e&&n!==r.ownerDocument;)i.unshift(r),r=n;return i}function he(t,e,n){for(;_.element(t);){if(se(t,e))return!0;if((t=oe(t))===n)return se(t,e)}return!1}function Ee(t){return t.correspondingUseElement||t}function xe(t){var e=t instanceof H.SVGElement?t.getBoundingClientRect():t.getClientRects()[0];return e&&{left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width||e.right-e.left,height:e.height||e.bottom-e.top}}function ve(t){var e,n=xe(t);if(!q.isIOS7&&n){var i={x:(e=(e=G(t))||D).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop};n.left+=i.x,n.right+=i.x,n.top+=i.y,n.bottom+=i.y}return n}function de(t){for(var e=[];t;)e.push(t),t=oe(t);return e}function pe(t){return!!_.string(t)&&(H.document.querySelector(t),!0)}function W(t,e){for(var n in e)t[n]=e[n];return t}function _e(t,e,n){return t==="parent"?oe(n):t==="self"?e.getRect(n):ne(n,t)}function Te(t,e,n,i){var r=t;return _.string(r)?r=_e(r,e,n):_.func(r)&&(r=r.apply(void 0,i)),_.element(r)&&(r=ve(r)),r}function Ne(t){return t&&{x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top}}function $e(t){return!t||"x"in t&&"y"in t||((t=W({},t)).x=t.left||0,t.y=t.top||0,t.width=t.width||(t.right||0)-t.x,t.height=t.height||(t.bottom||0)-t.y),t}function Be(t,e,n){t.left&&(e.left+=n.x),t.right&&(e.right+=n.x),t.top&&(e.top+=n.y),t.bottom&&(e.bottom+=n.y),e.width=e.right-e.left,e.height=e.bottom-e.top}function qe(t,e,n){var i=n&&t.options[n];return Ne(Te(i&&i.origin||t.options.origin,t,e,[t&&e]))||{x:0,y:0}}function ze(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(p){return!0},i=arguments.length>3?arguments[3]:void 0;if(i=i||{},_.string(t)&&t.search(" ")!==-1&&(t=rn(t)),_.array(t))return t.forEach(function(p){return ze(p,e,n,i)}),i;if(_.object(t)&&(e=t,t=""),_.func(e)&&n(t))i[t]=i[t]||[],i[t].push(e);else if(_.array(e))for(var r=0,s=e;r<s.length;r++){var c=s[r];ze(t,c,n,i)}else if(_.object(e))for(var u in e)ze(rn(u).map(function(p){return"".concat(t).concat(p)}),e[u],n,i);return i}function rn(t){return t.trim().split(/ +/)}var Xe=function(t,e){return Math.sqrt(t*t+e*e)},ai=["webkit","moz"];function st(t,e){t.__set||(t.__set={});var n=function(r){if(ai.some(function(s){return r.indexOf(s)===0}))return 1;typeof t[r]!="function"&&r!=="__set"&&Object.defineProperty(t,r,{get:function(){return r in t.__set?t.__set[r]:t.__set[r]=e[r]},set:function(s){t.__set[r]=s},configurable:!0})};for(var i in e)n(i);return t}function at(t,e){t.page=t.page||{},t.page.x=e.page.x,t.page.y=e.page.y,t.client=t.client||{},t.client.x=e.client.x,t.client.y=e.client.y,t.timeStamp=e.timeStamp}function on(t){t.page.x=0,t.page.y=0,t.client.x=0,t.client.y=0}function sn(t){return t instanceof H.Event||t instanceof H.Touch}function ct(t,e,n){return t=t||"page",(n=n||{}).x=e[t+"X"],n.y=e[t+"Y"],n}function an(t,e){return e=e||{x:0,y:0},q.isOperaMobile&&sn(t)?(ct("screen",t,e),e.x+=window.scrollX,e.y+=window.scrollY):ct("page",t,e),e}function Ue(t){return _.number(t.pointerId)?t.pointerId:t.identifier}function ci(t,e,n){var i=e.length>1?cn(e):e[0];an(i,t.page),function(r,s){s=s||{},q.isOperaMobile&&sn(r)?ct("screen",r,s):ct("client",r,s)}(i,t.client),t.timeStamp=n}function Dt(t){var e=[];return _.array(t)?(e[0]=t[0],e[1]=t[1]):t.type==="touchend"?t.touches.length===1?(e[0]=t.touches[0],e[1]=t.changedTouches[0]):t.touches.length===0&&(e[0]=t.changedTouches[0],e[1]=t.changedTouches[1]):(e[0]=t.touches[0],e[1]=t.touches[1]),e}function cn(t){for(var e={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<t.length;n++){var i=t[n];for(var r in e)e[r]+=i[r]}for(var s in e)e[s]/=t.length;return e}function Tt(t){if(!t.length)return null;var e=Dt(t),n=Math.min(e[0].pageX,e[1].pageX),i=Math.min(e[0].pageY,e[1].pageY),r=Math.max(e[0].pageX,e[1].pageX),s=Math.max(e[0].pageY,e[1].pageY);return{x:n,y:i,left:n,top:i,right:r,bottom:s,width:r-n,height:s-i}}function Ot(t,e){var n=e+"X",i=e+"Y",r=Dt(t),s=r[0][n]-r[1][n],c=r[0][i]-r[1][i];return Xe(s,c)}function St(t,e){var n=e+"X",i=e+"Y",r=Dt(t),s=r[1][n]-r[0][n],c=r[1][i]-r[0][i];return 180*Math.atan2(c,s)/Math.PI}function ln(t){return _.string(t.pointerType)?t.pointerType:_.number(t.pointerType)?[void 0,void 0,"touch","pen","mouse"][t.pointerType]:/touch/.test(t.type||"")||t instanceof H.Touch?"touch":"mouse"}function un(t){var e=_.func(t.composedPath)?t.composedPath():t.path;return[Ee(e?e[0]:t.target),Ee(t.currentTarget)]}var lt=function(){function t(e){v(this,t),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=e}return b(t,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),t}();Object.defineProperty(lt.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var dn=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];t.push(i)}return t},hn=function(t){return dn([],t)},Ge=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1},Qe=function(t,e){return t[Ge(t,e)]},Ye=function(t){w(n,t);var e=T(n);function n(i,r,s){var c;v(this,n),(c=e.call(this,r._interaction)).dropzone=void 0,c.dragEvent=void 0,c.relatedTarget=void 0,c.draggable=void 0,c.propagationStopped=!1,c.immediatePropagationStopped=!1;var u=s==="dragleave"?i.prev:i.cur,p=u.element,m=u.dropzone;return c.type=s,c.target=p,c.currentTarget=p,c.dropzone=m,c.dragEvent=r,c.relatedTarget=r.target,c.draggable=r.interactable,c.timeStamp=r.timeStamp,c}return b(n,[{key:"reject",value:function(){var i=this,r=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&r.cur.dropzone===this.dropzone&&r.cur.element===this.target)if(r.prev.dropzone=this.dropzone,r.prev.element=this.target,r.rejected=!0,r.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var s=r.activeDrops,c=Ge(s,function(p){var m=p.dropzone,f=p.element;return m===i.dropzone&&f===i.target});r.activeDrops.splice(c,1);var u=new n(r,this.dragEvent,"dropdeactivate");u.dropzone=this.dropzone,u.target=this.target,this.dropzone.fire(u)}else this.dropzone.fire(new n(r,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n}(lt);function pn(t,e){for(var n=0,i=t.slice();n<i.length;n++){var r=i[n],s=r.dropzone,c=r.element;e.dropzone=s,e.target=c,s.fire(e),e.propagationStopped=e.immediatePropagationStopped=!1}}function Mt(t,e){for(var n=function(s,c){for(var u=[],p=0,m=s.interactables.list;p<m.length;p++){var f=m[p];if(f.options.drop.enabled){var x=f.options.drop.accept;if(!(_.element(x)&&x!==c||_.string(x)&&!se(c,x)||_.func(x)&&!x({dropzone:f,draggableElement:c})))for(var E=0,M=f.getAllElements();E<M.length;E++){var S=M[E];S!==c&&u.push({dropzone:f,element:S,rect:f.getRect(S)})}}}return u}(t,e),i=0;i<n.length;i++){var r=n[i];r.rect=r.dropzone.getRect(r.element)}return n}function fn(t,e,n){for(var i=t.dropState,r=t.interactable,s=t.element,c=[],u=0,p=i.activeDrops;u<p.length;u++){var m=p[u],f=m.dropzone,x=m.element,E=m.rect,M=f.dropCheck(e,n,r,s,x,E);c.push(M?x:null)}var S=function(k){for(var R,$,U,K=[],re=0;re<k.length;re++){var Q=k[re],te=k[R];if(Q&&re!==R)if(te){var ge=ue(Q),ce=ue(te);if(ge!==Q.ownerDocument)if(ce!==Q.ownerDocument)if(ge!==ce){K=K.length?K:me(te);var ye=void 0;if(te instanceof H.HTMLElement&&Q instanceof H.SVGElement&&!(Q instanceof H.SVGSVGElement)){if(Q===ce)continue;ye=Q.ownerSVGElement}else ye=Q;for(var we=me(ye,te.ownerDocument),Me=0;we[Me]&&we[Me]===K[Me];)Me++;var yt=[we[Me-1],we[Me],K[Me]];if(yt[0])for(var nt=yt[0].lastChild;nt;){if(nt===yt[1]){R=re,K=we;break}if(nt===yt[2])break;nt=nt.previousSibling}}else U=te,(parseInt(G($=Q).getComputedStyle($).zIndex,10)||0)>=(parseInt(G(U).getComputedStyle(U).zIndex,10)||0)&&(R=re);else R=re}else R=re}return R}(c);return i.activeDrops[S]||null}function Nt(t,e,n){var i=t.dropState,r={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(r.activate=new Ye(i,n,"dropactivate"),r.activate.target=null,r.activate.dropzone=null),n.type==="dragend"&&(r.deactivate=new Ye(i,n,"dropdeactivate"),r.deactivate.target=null,r.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(r.leave=new Ye(i,n,"dragleave"),n.dragLeave=r.leave.target=i.prev.element,n.prevDropzone=r.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(r.enter=new Ye(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),n.type==="dragend"&&i.cur.dropzone&&(r.drop=new Ye(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),n.type==="dragmove"&&i.cur.dropzone&&(r.move=new Ye(i,n,"dropmove"),n.dropzone=i.cur.dropzone)),r}function Pt(t,e){var n=t.dropState,i=n.activeDrops,r=n.cur,s=n.prev;e.leave&&s.dropzone.fire(e.leave),e.enter&&r.dropzone.fire(e.enter),e.move&&r.dropzone.fire(e.move),e.drop&&r.dropzone.fire(e.drop),e.deactivate&&pn(i,e.deactivate),n.prev.dropzone=r.dropzone,n.prev.element=r.element}function gn(t,e){var n=t.interaction,i=t.iEvent,r=t.event;if(i.type==="dragmove"||i.type==="dragend"){var s=n.dropState;e.dynamicDrop&&(s.activeDrops=Mt(e,n.element));var c=i,u=fn(n,c,r);s.rejected=s.rejected&&!!u&&u.dropzone===s.cur.dropzone&&u.element===s.cur.element,s.cur.dropzone=u&&u.dropzone,s.cur.element=u&&u.element,s.events=Nt(n,0,c)}}var vn={id:"actions/drop",install:function(t){var e=t.actions,n=t.interactStatic,i=t.Interactable,r=t.defaults;t.usePlugin(F),i.prototype.dropzone=function(s){return function(c,u){if(_.object(u)){if(c.options.drop.enabled=u.enabled!==!1,u.listeners){var p=ze(u.listeners),m=Object.keys(p).reduce(function(x,E){return x[/^(enter|leave)/.test(E)?"drag".concat(E):/^(activate|deactivate|move)/.test(E)?"drop".concat(E):E]=p[E],x},{}),f=c.options.drop.listeners;f&&c.off(f),c.on(m),c.options.drop.listeners=m}return _.func(u.ondrop)&&c.on("drop",u.ondrop),_.func(u.ondropactivate)&&c.on("dropactivate",u.ondropactivate),_.func(u.ondropdeactivate)&&c.on("dropdeactivate",u.ondropdeactivate),_.func(u.ondragenter)&&c.on("dragenter",u.ondragenter),_.func(u.ondragleave)&&c.on("dragleave",u.ondragleave),_.func(u.ondropmove)&&c.on("dropmove",u.ondropmove),/^(pointer|center)$/.test(u.overlap)?c.options.drop.overlap=u.overlap:_.number(u.overlap)&&(c.options.drop.overlap=Math.max(Math.min(1,u.overlap),0)),"accept"in u&&(c.options.drop.accept=u.accept),"checker"in u&&(c.options.drop.checker=u.checker),c}return _.bool(u)?(c.options.drop.enabled=u,c):c.options.drop}(this,s)},i.prototype.dropCheck=function(s,c,u,p,m,f){return function(x,E,M,S,k,R,$){var U=!1;if(!($=$||x.getRect(R)))return!!x.options.drop.checker&&x.options.drop.checker(E,M,U,x,R,S,k);var K=x.options.drop.overlap;if(K==="pointer"){var re=qe(S,k,"drag"),Q=an(E);Q.x+=re.x,Q.y+=re.y;var te=Q.x>$.left&&Q.x<$.right,ge=Q.y>$.top&&Q.y<$.bottom;U=te&&ge}var ce=S.getRect(k);if(ce&&K==="center"){var ye=ce.left+ce.width/2,we=ce.top+ce.height/2;U=ye>=$.left&&ye<=$.right&&we>=$.top&&we<=$.bottom}return ce&&_.number(K)&&(U=Math.max(0,Math.min($.right,ce.right)-Math.max($.left,ce.left))*Math.max(0,Math.min($.bottom,ce.bottom)-Math.max($.top,ce.top))/(ce.width*ce.height)>=K),x.options.drop.checker&&(U=x.options.drop.checker(E,M,U,x,R,S,k)),U}(this,s,c,u,p,m,f)},n.dynamicDrop=function(s){return _.bool(s)?(t.dynamicDrop=s,n):t.dynamicDrop},W(e.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),e.methodDict.drop="dropzone",t.dynamicDrop=!1,r.actions.drop=vn.defaults},listeners:{"interactions:before-action-start":function(t){var e=t.interaction;e.prepared.name==="drag"&&(e.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(t,e){var n=t.interaction,i=(t.event,t.iEvent);if(n.prepared.name==="drag"){var r=n.dropState;r.activeDrops=[],r.events={},r.activeDrops=Mt(e,n.element),r.events=Nt(n,0,i),r.events.activate&&(pn(r.activeDrops,r.events.activate),e.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":gn,"interactions:after-action-move":function(t,e){var n=t.interaction,i=t.iEvent;if(n.prepared.name==="drag"){var r=n.dropState;Pt(n,r.events),e.fire("actions/drop:move",{interaction:n,dragEvent:i}),r.events={}}},"interactions:action-end":function(t,e){if(t.interaction.prepared.name==="drag"){var n=t.interaction,i=t.iEvent;gn(t,e),Pt(n,n.dropState.events),e.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(t){var e=t.interaction;if(e.prepared.name==="drag"){var n=e.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:Mt,getDrop:fn,getDropEvents:Nt,fireDropEvents:Pt,filterEventType:function(t){return t.search("drag")===0||t.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},li=vn;function kt(t){var e=t.interaction,n=t.iEvent,i=t.phase;if(e.prepared.name==="gesture"){var r=e.pointers.map(function(m){return m.pointer}),s=i==="start",c=i==="end",u=e.interactable.options.deltaSource;if(n.touches=[r[0],r[1]],s)n.distance=Ot(r,u),n.box=Tt(r),n.scale=1,n.ds=0,n.angle=St(r,u),n.da=0,e.gesture.startDistance=n.distance,e.gesture.startAngle=n.angle;else if(c||e.pointers.length<2){var p=e.prevEvent;n.distance=p.distance,n.box=p.box,n.scale=p.scale,n.ds=0,n.angle=p.angle,n.da=0}else n.distance=Ot(r,u),n.box=Tt(r),n.scale=n.distance/e.gesture.startDistance,n.angle=St(r,u),n.ds=n.scale-e.gesture.scale,n.da=n.angle-e.gesture.angle;e.gesture.distance=n.distance,e.gesture.angle=n.angle,_.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(e.gesture.scale=n.scale)}}var At={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(t){var e=t.actions,n=t.Interactable,i=t.defaults;n.prototype.gesturable=function(r){return _.object(r)?(this.options.gesture.enabled=r.enabled!==!1,this.setPerAction("gesture",r),this.setOnEvents("gesture",r),this):_.bool(r)?(this.options.gesture.enabled=r,this):this.options.gesture},e.map.gesture=At,e.methodDict.gesture="gesturable",i.actions.gesture=At.defaults},listeners:{"interactions:action-start":kt,"interactions:action-move":kt,"interactions:action-end":kt,"interactions:new":function(t){t.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(t){if(!(t.interaction.pointers.length<2)){var e=t.interactable.options.gesture;if(e&&e.enabled)return t.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(t){return t.search("gesture")===0}},ui=At;function di(t,e,n,i,r,s,c){if(!e)return!1;if(e===!0){var u=_.number(s.width)?s.width:s.right-s.left,p=_.number(s.height)?s.height:s.bottom-s.top;if(c=Math.min(c,Math.abs((t==="left"||t==="right"?u:p)/2)),u<0&&(t==="left"?t="right":t==="right"&&(t="left")),p<0&&(t==="top"?t="bottom":t==="bottom"&&(t="top")),t==="left"){var m=u>=0?s.left:s.right;return n.x<m+c}if(t==="top"){var f=p>=0?s.top:s.bottom;return n.y<f+c}if(t==="right")return n.x>(u>=0?s.right:s.left)-c;if(t==="bottom")return n.y>(p>=0?s.bottom:s.top)-c}return!!_.element(i)&&(_.element(e)?e===i:he(i,e,r))}function mn(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var i=e;n.interactable.options.resize.square?(n.resizeAxes==="y"?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,n.resizeAxes==="x"?i.delta.y=0:n.resizeAxes==="y"&&(i.delta.x=0))}}var Oe,Re,Se={id:"actions/resize",before:["actions/drag"],install:function(t){var e=t.actions,n=t.browser,i=t.Interactable,r=t.defaults;Se.cursors=function(s){return s.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),Se.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(s){return function(c,u,p){return _.object(u)?(c.options.resize.enabled=u.enabled!==!1,c.setPerAction("resize",u),c.setOnEvents("resize",u),_.string(u.axis)&&/^x$|^y$|^xy$/.test(u.axis)?c.options.resize.axis=u.axis:u.axis===null&&(c.options.resize.axis=p.defaults.actions.resize.axis),_.bool(u.preserveAspectRatio)?c.options.resize.preserveAspectRatio=u.preserveAspectRatio:_.bool(u.square)&&(c.options.resize.square=u.square),c):_.bool(u)?(c.options.resize.enabled=u,c):c.options.resize}(this,s,t)},e.map.resize=Se,e.methodDict.resize="resizable",r.actions.resize=Se.defaults},listeners:{"interactions:new":function(t){t.interaction.resizeAxes="xy"},"interactions:action-start":function(t){(function(e){var n=e.iEvent,i=e.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var r=n,s=i.rect;i._rects={start:W({},s),corrected:W({},s),previous:W({},s),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},r.edges=i.prepared.edges,r.rect=i._rects.corrected,r.deltaRect=i._rects.delta}})(t),mn(t)},"interactions:action-move":function(t){(function(e){var n=e.iEvent,i=e.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var r=n,s=i.interactable.options.resize.invert,c=s==="reposition"||s==="negate",u=i.rect,p=i._rects,m=p.start,f=p.corrected,x=p.delta,E=p.previous;if(W(E,f),c){if(W(f,u),s==="reposition"){if(f.top>f.bottom){var M=f.top;f.top=f.bottom,f.bottom=M}if(f.left>f.right){var S=f.left;f.left=f.right,f.right=S}}}else f.top=Math.min(u.top,m.bottom),f.bottom=Math.max(u.bottom,m.top),f.left=Math.min(u.left,m.right),f.right=Math.max(u.right,m.left);for(var k in f.width=f.right-f.left,f.height=f.bottom-f.top,f)x[k]=f[k]-E[k];r.edges=i.prepared.edges,r.rect=f,r.deltaRect=x}})(t),mn(t)},"interactions:action-end":function(t){var e=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=e;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(t){var e=t.interaction,n=t.interactable,i=t.element,r=t.rect,s=t.buttons;if(r){var c=W({},e.coords.cur.page),u=n.options.resize;if(u&&u.enabled&&(!e.pointerIsDown||!/mouse|pointer/.test(e.pointerType)||s&u.mouseButtons)){if(_.object(u.edges)){var p={left:!1,right:!1,top:!1,bottom:!1};for(var m in p)p[m]=di(m,u.edges[m],c,e._latestPointer.eventTarget,i,r,u.margin||Se.defaultMargin);p.left=p.left&&!p.right,p.top=p.top&&!p.bottom,(p.left||p.right||p.top||p.bottom)&&(t.action={name:"resize",edges:p})}else{var f=u.axis!=="y"&&c.x>r.right-Se.defaultMargin,x=u.axis!=="x"&&c.y>r.bottom-Se.defaultMargin;(f||x)&&(t.action={name:"resize",axes:(f?"x":"")+(x?"y":"")})}return!t.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(t){var e=t.edges,n=t.axis,i=t.name,r=Se.cursors,s=null;if(n)s=r[i+n];else if(e){for(var c="",u=0,p=["top","bottom","left","right"];u<p.length;u++){var m=p[u];e[m]&&(c+=m)}s=r[c]}return s},filterEventType:function(t){return t.search("resize")===0},defaultMargin:null},hi=Se,pi={id:"actions",install:function(t){t.usePlugin(ui),t.usePlugin(hi),t.usePlugin(F),t.usePlugin(li)}},yn=0,Pe={request:function(t){return Oe(t)},cancel:function(t){return Re(t)},init:function(t){if(Oe=t.requestAnimationFrame,Re=t.cancelAnimationFrame,!Oe)for(var e=["ms","moz","webkit","o"],n=0;n<e.length;n++){var i=e[n];Oe=t["".concat(i,"RequestAnimationFrame")],Re=t["".concat(i,"CancelAnimationFrame")]||t["".concat(i,"CancelRequestAnimationFrame")]}Oe=Oe&&Oe.bind(t),Re=Re&&Re.bind(t),Oe||(Oe=function(r){var s=Date.now(),c=Math.max(0,16-(s-yn)),u=t.setTimeout(function(){r(s+c)},c);return yn=s+c,u},Re=function(r){return clearTimeout(r)})}},J={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(t){J.isScrolling=!0,Pe.cancel(J.i),t.autoScroll=J,J.interaction=t,J.prevTime=J.now(),J.i=Pe.request(J.scroll)},stop:function(){J.isScrolling=!1,J.interaction&&(J.interaction.autoScroll=null),Pe.cancel(J.i)},scroll:function(){var t=J.interaction,e=t.interactable,n=t.element,i=t.prepared.name,r=e.options[i].autoScroll,s=bn(r.container,e,n),c=J.now(),u=(c-J.prevTime)/1e3,p=r.speed*u;if(p>=1){var m={x:J.x*p,y:J.y*p};if(m.x||m.y){var f=xn(s);_.window(s)?s.scrollBy(m.x,m.y):s&&(s.scrollLeft+=m.x,s.scrollTop+=m.y);var x=xn(s),E={x:x.x-f.x,y:x.y-f.y};(E.x||E.y)&&e.fire({type:"autoscroll",target:n,interactable:e,delta:E,interaction:t,container:s})}J.prevTime=c}J.isScrolling&&(Pe.cancel(J.i),J.i=Pe.request(J.scroll))},check:function(t,e){var n;return(n=t.options[e].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(t){var e=t.interaction,n=t.pointer;if(e.interacting()&&J.check(e.interactable,e.prepared.name))if(e.simulation)J.x=J.y=0;else{var i,r,s,c,u=e.interactable,p=e.element,m=e.prepared.name,f=u.options[m].autoScroll,x=bn(f.container,u,p);if(_.window(x))c=n.clientX<J.margin,i=n.clientY<J.margin,r=n.clientX>x.innerWidth-J.margin,s=n.clientY>x.innerHeight-J.margin;else{var E=xe(x);c=n.clientX<E.left+J.margin,i=n.clientY<E.top+J.margin,r=n.clientX>E.right-J.margin,s=n.clientY>E.bottom-J.margin}J.x=r?1:c?-1:0,J.y=s?1:i?-1:0,J.isScrolling||(J.margin=f.margin,J.speed=f.speed,J.start(e))}}};function bn(t,e,n){return(_.string(t)?_e(t,e,n):t)||G(n)}function xn(t){return _.window(t)&&(t=window.document.body),{x:t.scrollLeft,y:t.scrollTop}}var fi={id:"auto-scroll",install:function(t){var e=t.defaults,n=t.actions;t.autoScroll=J,J.now=function(){return t.now()},n.phaselessTypes.autoscroll=!0,e.perAction.autoScroll=J.defaults},listeners:{"interactions:new":function(t){t.interaction.autoScroll=null},"interactions:destroy":function(t){t.interaction.autoScroll=null,J.stop(),J.interaction&&(J.interaction=null)},"interactions:stop":J.stop,"interactions:action-move":function(t){return J.onInteractionMove(t)}}},gi=fi;function Je(t,e){var n=!1;return function(){return n||(D.console.warn(e),n=!0),t.apply(this,arguments)}}function Vt(t,e){return t.name=e.name,t.axis=e.axis,t.edges=e.edges,t}function vi(t){return _.bool(t)?(this.options.styleCursor=t,this):t===null?(delete this.options.styleCursor,this):this.options.styleCursor}function mi(t){return _.func(t)?(this.options.actionChecker=t,this):t===null?(delete this.options.actionChecker,this):this.options.actionChecker}var yi={id:"auto-start/interactableMethods",install:function(t){var e=t.Interactable;e.prototype.getAction=function(n,i,r,s){var c=function(u,p,m,f,x){var E=u.getRect(f),M=p.buttons||{0:1,1:4,3:8,4:16}[p.button],S={action:null,interactable:u,interaction:m,element:f,rect:E,buttons:M};return x.fire("auto-start:check",S),S.action}(this,i,r,s,t);return this.options.actionChecker?this.options.actionChecker(n,i,c,this,s,r):c},e.prototype.ignoreFrom=Je(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),e.prototype.allowFrom=Je(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),e.prototype.actionChecker=mi,e.prototype.styleCursor=vi}};function _n(t,e,n,i,r){return e.testIgnoreAllow(e.options[t.name],n,i)&&e.options[t.name].enabled&&ut(e,n,t,r)?t:null}function bi(t,e,n,i,r,s,c){for(var u=0,p=i.length;u<p;u++){var m=i[u],f=r[u],x=m.getAction(e,n,t,f);if(x){var E=_n(x,m,f,s,c);if(E)return{action:E,interactable:m,element:f}}}return{action:null,interactable:null,element:null}}function wn(t,e,n,i,r){var s=[],c=[],u=i;function p(f){s.push(f),c.push(u)}for(;_.element(u);){s=[],c=[],r.interactables.forEachMatch(u,p);var m=bi(t,e,n,s,c,i,r);if(m.action&&!m.interactable.options[m.action.name].manualStart)return m;u=oe(u)}return{action:null,interactable:null,element:null}}function En(t,e,n){var i=e.action,r=e.interactable,s=e.element;i=i||{name:null},t.interactable=r,t.element=s,Vt(t.prepared,i),t.rect=r&&i.name?r.getRect(s):null,Tn(t,n),n.fire("autoStart:prepared",{interaction:t})}function ut(t,e,n,i){var r=t.options,s=r[n.name].max,c=r[n.name].maxPerElement,u=i.autoStart.maxInteractions,p=0,m=0,f=0;if(!(s&&c&&u))return!1;for(var x=0,E=i.interactions.list;x<E.length;x++){var M=E[x],S=M.prepared.name;if(M.interacting()&&(++p>=u||M.interactable===t&&((m+=S===n.name?1:0)>=s||M.element===e&&(f++,S===n.name&&f>=c))))return!1}return u>0}function Dn(t,e){return _.number(t)?(e.autoStart.maxInteractions=t,this):e.autoStart.maxInteractions}function It(t,e,n){var i=n.autoStart.cursorElement;i&&i!==t&&(i.style.cursor=""),t.ownerDocument.documentElement.style.cursor=e,t.style.cursor=e,n.autoStart.cursorElement=e?t:null}function Tn(t,e){var n=t.interactable,i=t.element,r=t.prepared;if(t.pointerType==="mouse"&&n&&n.options.styleCursor){var s="";if(r.name){var c=n.options[r.name].cursorChecker;s=_.func(c)?c(r,n,i,t._interacting):e.actions.map[r.name].getCursor(r)}It(t.element,s||"",e)}else e.autoStart.cursorElement&&It(e.autoStart.cursorElement,"",e)}var xi={id:"auto-start/base",before:["actions"],install:function(t){var e=t.interactStatic,n=t.defaults;t.usePlugin(yi),n.base.actionChecker=null,n.base.styleCursor=!0,W(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),e.maxInteractions=function(i){return Dn(i,t)},t.autoStart={maxInteractions:1/0,withinInteractionLimit:ut,cursorElement:null}},listeners:{"interactions:down":function(t,e){var n=t.interaction,i=t.pointer,r=t.event,s=t.eventTarget;n.interacting()||En(n,wn(n,i,r,s,e),e)},"interactions:move":function(t,e){(function(n,i){var r=n.interaction,s=n.pointer,c=n.event,u=n.eventTarget;r.pointerType!=="mouse"||r.pointerIsDown||r.interacting()||En(r,wn(r,s,c,u,i),i)})(t,e),function(n,i){var r=n.interaction;if(r.pointerIsDown&&!r.interacting()&&r.pointerWasMoved&&r.prepared.name){i.fire("autoStart:before-start",n);var s=r.interactable,c=r.prepared.name;c&&s&&(s.options[c].manualStart||!ut(s,r.element,r.prepared,i)?r.stop():(r.start(r.prepared,s,r.element),Tn(r,i)))}}(t,e)},"interactions:stop":function(t,e){var n=t.interaction,i=n.interactable;i&&i.options.styleCursor&&It(n.element,"",e)}},maxInteractions:Dn,withinInteractionLimit:ut,validateAction:_n},Ct=xi,_i={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(t,e){var n=t.interaction,i=t.eventTarget,r=t.dx,s=t.dy;if(n.prepared.name==="drag"){var c=Math.abs(r),u=Math.abs(s),p=n.interactable.options.drag,m=p.startAxis,f=c>u?"x":c<u?"y":"xy";if(n.prepared.axis=p.lockAxis==="start"?f[0]:p.lockAxis,f!=="xy"&&m!=="xy"&&m!==f){n.prepared.name=null;for(var x=i,E=function(S){if(S!==n.interactable){var k=n.interactable.options.drag;if(!k.manualStart&&S.testIgnoreAllow(k,x,i)){var R=S.getAction(n.downPointer,n.downEvent,n,x);if(R&&R.name==="drag"&&function($,U){if(!U)return!1;var K=U.options.drag.startAxis;return $==="xy"||K==="xy"||K===$}(f,S)&&Ct.validateAction(R,S,x,i,e))return S}}};_.element(x);){var M=e.interactables.forEachMatch(x,E);if(M){n.prepared.name="drag",n.interactable=M,n.element=x;break}x=oe(x)}}}}}};function Lt(t){var e=t.prepared&&t.prepared.name;if(!e)return null;var n=t.interactable.options;return n[e].hold||n[e].delay}var wi={id:"auto-start/hold",install:function(t){var e=t.defaults;t.usePlugin(Ct),e.perAction.hold=0,e.perAction.delay=0},listeners:{"interactions:new":function(t){t.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(t){var e=t.interaction,n=Lt(e);n>0&&(e.autoStartHoldTimer=setTimeout(function(){e.start(e.prepared,e.interactable,e.element)},n))},"interactions:move":function(t){var e=t.interaction,n=t.duplicate;e.autoStartHoldTimer&&e.pointerWasMoved&&!n&&(clearTimeout(e.autoStartHoldTimer),e.autoStartHoldTimer=null)},"autoStart:before-start":function(t){var e=t.interaction;Lt(e)>0&&(e.prepared.name=null)}},getHoldDuration:Lt},Ei=wi,Di={id:"auto-start",install:function(t){t.usePlugin(Ct),t.usePlugin(Ei),t.usePlugin(_i)}},Ti=function(t){return/^(always|never|auto)$/.test(t)?(this.options.preventDefault=t,this):_.bool(t)?(this.options.preventDefault=t?"always":"never",this):this.options.preventDefault};function Oi(t){var e=t.interaction,n=t.event;e.interactable&&e.interactable.checkAndPreventDefault(n)}var On={id:"core/interactablePreventDefault",install:function(t){var e=t.Interactable;e.prototype.preventDefault=Ti,e.prototype.checkAndPreventDefault=function(n){return function(i,r,s){var c=i.options.preventDefault;if(c!=="never")if(c!=="always"){if(r.events.supportsPassive&&/^touch(start|move)$/.test(s.type)){var u=G(s.target).document,p=r.getDocOptions(u);if(!p||!p.events||p.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(s.type)||_.element(s.target)&&se(s.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||s.preventDefault()}else s.preventDefault()}(this,t,n)},t.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var i=0,r=t.interactions.list;i<r.length;i++){var s=r[i];if(s.element&&(s.element===n.target||B(s.element,n.target)))return void s.interactable.checkAndPreventDefault(n)}}})},listeners:["down","move","up","cancel"].reduce(function(t,e){return t["interactions:".concat(e)]=Oi,t},{})};function dt(t,e){if(e.phaselessTypes[t])return!0;for(var n in e.map)if(t.indexOf(n)===0&&t.substr(n.length)in e.phases)return!0;return!1}function Fe(t){var e={};for(var n in t){var i=t[n];_.plainObject(i)?e[n]=Fe(i):_.array(i)?e[n]=hn(i):e[n]=i}return e}var $t=function(){function t(e){v(this,t),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=e,this.result=ht(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return b(t,[{key:"start",value:function(e,n){var i,r,s=e.phase,c=this.interaction,u=function(m){var f=m.interactable.options[m.prepared.name],x=f.modifiers;return x&&x.length?x:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(E){var M=f[E];return M&&M.enabled&&{options:M,methods:M._methods}}).filter(function(E){return!!E})}(c);this.prepareStates(u),this.startEdges=W({},c.edges),this.edges=W({},this.startEdges),this.startOffset=(i=c.rect,r=n,i?{left:r.x-i.left,top:r.y-i.top,right:i.right-r.x,bottom:i.bottom-r.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var p=this.fillArg({phase:s,pageCoords:n,preEnd:!1});return this.result=ht(),this.startAll(p),this.result=this.setAll(p)}},{key:"fillArg",value:function(e){var n=this.interaction;return e.interaction=n,e.interactable=n.interactable,e.element=n.element,e.rect||(e.rect=n.rect),e.edges||(e.edges=this.startEdges),e.startOffset=this.startOffset,e}},{key:"startAll",value:function(e){for(var n=0,i=this.states;n<i.length;n++){var r=i[n];r.methods.start&&(e.state=r,r.methods.start(e))}}},{key:"setAll",value:function(e){var n=e.phase,i=e.preEnd,r=e.skipModifiers,s=e.rect,c=e.edges;e.coords=W({},e.pageCoords),e.rect=W({},s),e.edges=W({},c);for(var u=r?this.states.slice(r):this.states,p=ht(e.coords,e.rect),m=0;m<u.length;m++){var f,x=u[m],E=x.options,M=W({},e.coords),S=null;(f=x.methods)!=null&&f.set&&this.shouldDo(E,i,n)&&(e.state=x,S=x.methods.set(e),Be(e.edges,e.rect,{x:e.coords.x-M.x,y:e.coords.y-M.y})),p.eventProps.push(S)}W(this.edges,e.edges),p.delta.x=e.coords.x-e.pageCoords.x,p.delta.y=e.coords.y-e.pageCoords.y,p.rectDelta.left=e.rect.left-s.left,p.rectDelta.right=e.rect.right-s.right,p.rectDelta.top=e.rect.top-s.top,p.rectDelta.bottom=e.rect.bottom-s.bottom;var k=this.result.coords,R=this.result.rect;if(k&&R){var $=p.rect.left!==R.left||p.rect.right!==R.right||p.rect.top!==R.top||p.rect.bottom!==R.bottom;p.changed=$||k.x!==p.coords.x||k.y!==p.coords.y}return p}},{key:"applyToInteraction",value:function(e){var n=this.interaction,i=e.phase,r=n.coords.cur,s=n.coords.start,c=this.result,u=this.startDelta,p=c.delta;i==="start"&&W(this.startDelta,c.delta);for(var m=0,f=[[s,u],[r,p]];m<f.length;m++){var x=f[m],E=x[0],M=x[1];E.page.x+=M.x,E.page.y+=M.y,E.client.x+=M.x,E.client.y+=M.y}var S=this.result.rectDelta,k=e.rect||n.rect;k.left+=S.left,k.right+=S.right,k.top+=S.top,k.bottom+=S.bottom,k.width=k.right-k.left,k.height=k.bottom-k.top}},{key:"setAndApply",value:function(e){var n=this.interaction,i=e.phase,r=e.preEnd,s=e.skipModifiers,c=this.setAll(this.fillArg({preEnd:r,phase:i,pageCoords:e.modifiedCoords||n.coords.cur.page}));if(this.result=c,!c.changed&&(!s||s<this.states.length)&&n.interacting())return!1;if(e.modifiedCoords){var u=n.coords.cur.page,p={x:e.modifiedCoords.x-u.x,y:e.modifiedCoords.y-u.y};c.coords.x+=p.x,c.coords.y+=p.y,c.delta.x+=p.x,c.delta.y+=p.y}this.applyToInteraction(e)}},{key:"beforeEnd",value:function(e){var n=e.interaction,i=e.event,r=this.states;if(r&&r.length){for(var s=!1,c=0;c<r.length;c++){var u=r[c];e.state=u;var p=u.options,m=u.methods,f=m.beforeEnd&&m.beforeEnd(e);if(f)return this.endResult=f,!1;s=s||!s&&this.shouldDo(p,!0,e.phase,!0)}s&&n.move({event:i,preEnd:!0})}}},{key:"stop",value:function(e){var n=e.interaction;if(this.states&&this.states.length){var i=W({states:this.states,interactable:n.interactable,element:n.element,rect:null},e);this.fillArg(i);for(var r=0,s=this.states;r<s.length;r++){var c=s[r];i.state=c,c.methods.stop&&c.methods.stop(i)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(e){this.states=[];for(var n=0;n<e.length;n++){var i=e[n],r=i.options,s=i.methods,c=i.name;this.states.push({options:r,methods:s,index:n,name:c})}return this.states}},{key:"restoreInteractionCoords",value:function(e){var n=e.interaction,i=n.coords,r=n.rect,s=n.modification;if(s.result){for(var c=s.startDelta,u=s.result,p=u.delta,m=u.rectDelta,f=0,x=[[i.start,c],[i.cur,p]];f<x.length;f++){var E=x[f],M=E[0],S=E[1];M.page.x-=S.x,M.page.y-=S.y,M.client.x-=S.x,M.client.y-=S.y}r.left-=m.left,r.right-=m.right,r.top-=m.top,r.bottom-=m.bottom}}},{key:"shouldDo",value:function(e,n,i,r){return!(!e||e.enabled===!1||r&&!e.endOnly||e.endOnly&&!n||i==="start"&&!e.setStart)}},{key:"copyFrom",value:function(e){this.startOffset=e.startOffset,this.startDelta=e.startDelta,this.startEdges=e.startEdges,this.edges=e.edges,this.states=e.states.map(function(n){return Fe(n)}),this.result=ht(W({},e.result.coords),W({},e.result.rect))}},{key:"destroy",value:function(){for(var e in this)this[e]=null}}]),t}();function ht(t,e){return{rect:e,coords:t,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function ke(t,e){var n=t.defaults,i={start:t.start,set:t.set,beforeEnd:t.beforeEnd,stop:t.stop},r=function(s){var c=s||{};for(var u in c.enabled=c.enabled!==!1,n)u in c||(c[u]=n[u]);var p={options:c,methods:i,name:e,enable:function(){return c.enabled=!0,p},disable:function(){return c.enabled=!1,p}};return p};return e&&typeof e=="string"&&(r._defaults=n,r._methods=i),r}function Ze(t){var e=t.iEvent,n=t.interaction.modification.result;n&&(e.modifiers=n.eventProps)}var Si={id:"modifiers/base",before:["actions"],install:function(t){t.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(t){var e=t.interaction;e.modification=new $t(e)},"interactions:before-action-start":function(t){var e=t.interaction,n=t.interaction.modification;n.start(t,e.coords.start.page),e.edges=n.edges,n.applyToInteraction(t)},"interactions:before-action-move":function(t){var e=t.interaction,n=e.modification,i=n.setAndApply(t);return e.edges=n.edges,i},"interactions:before-action-end":function(t){var e=t.interaction,n=e.modification,i=n.beforeEnd(t);return e.edges=n.startEdges,i},"interactions:action-start":Ze,"interactions:action-move":Ze,"interactions:action-end":Ze,"interactions:after-action-start":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-move":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:stop":function(t){return t.interaction.modification.stop(t)}}},Sn=Si,Mn={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},zt=function(t){w(n,t);var e=T(n);function n(i,r,s,c,u,p,m){var f;v(this,n),(f=e.call(this,i)).relatedTarget=null,f.screenX=void 0,f.screenY=void 0,f.button=void 0,f.buttons=void 0,f.ctrlKey=void 0,f.shiftKey=void 0,f.altKey=void 0,f.metaKey=void 0,f.page=void 0,f.client=void 0,f.delta=void 0,f.rect=void 0,f.x0=void 0,f.y0=void 0,f.t0=void 0,f.dt=void 0,f.duration=void 0,f.clientX0=void 0,f.clientY0=void 0,f.velocity=void 0,f.speed=void 0,f.swipe=void 0,f.axes=void 0,f.preEnd=void 0,u=u||i.element;var x=i.interactable,E=(x&&x.options||Mn).deltaSource,M=qe(x,u,s),S=c==="start",k=c==="end",R=S?A(f):i.prevEvent,$=S?i.coords.start:k?{page:R.page,client:R.client,timeStamp:i.coords.cur.timeStamp}:i.coords.cur;return f.page=W({},$.page),f.client=W({},$.client),f.rect=W({},i.rect),f.timeStamp=$.timeStamp,k||(f.page.x-=M.x,f.page.y-=M.y,f.client.x-=M.x,f.client.y-=M.y),f.ctrlKey=r.ctrlKey,f.altKey=r.altKey,f.shiftKey=r.shiftKey,f.metaKey=r.metaKey,f.button=r.button,f.buttons=r.buttons,f.target=u,f.currentTarget=u,f.preEnd=p,f.type=m||s+(c||""),f.interactable=x,f.t0=S?i.pointers[i.pointers.length-1].downTime:R.t0,f.x0=i.coords.start.page.x-M.x,f.y0=i.coords.start.page.y-M.y,f.clientX0=i.coords.start.client.x-M.x,f.clientY0=i.coords.start.client.y-M.y,f.delta=S||k?{x:0,y:0}:{x:f[E].x-R[E].x,y:f[E].y-R[E].y},f.dt=i.coords.delta.timeStamp,f.duration=f.timeStamp-f.t0,f.velocity=W({},i.coords.velocity[E]),f.speed=Xe(f.velocity.x,f.velocity.y),f.swipe=k||c==="inertiastart"?f.getSwipe():null,f}return b(n,[{key:"getSwipe",value:function(){var i=this._interaction;if(i.prevEvent.speed<600||this.timeStamp-i.prevEvent.timeStamp>150)return null;var r=180*Math.atan2(i.prevEvent.velocityY,i.prevEvent.velocityX)/Math.PI;r<0&&(r+=360);var s=112.5<=r&&r<247.5,c=202.5<=r&&r<337.5;return{up:c,down:!c&&22.5<=r&&r<157.5,left:s,right:!s&&(292.5<=r||r<67.5),angle:r,speed:i.prevEvent.speed,velocity:{x:i.prevEvent.velocityX,y:i.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),n}(lt);Object.defineProperties(zt.prototype,{pageX:{get:function(){return this.page.x},set:function(t){this.page.x=t}},pageY:{get:function(){return this.page.y},set:function(t){this.page.y=t}},clientX:{get:function(){return this.client.x},set:function(t){this.client.x=t}},clientY:{get:function(){return this.client.y},set:function(t){this.client.y=t}},dx:{get:function(){return this.delta.x},set:function(t){this.delta.x=t}},dy:{get:function(){return this.delta.y},set:function(t){this.delta.y=t}},velocityX:{get:function(){return this.velocity.x},set:function(t){this.velocity.x=t}},velocityY:{get:function(){return this.velocity.y},set:function(t){this.velocity.y=t}}});var Mi=b(function t(e,n,i,r,s){v(this,t),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=e,this.pointer=n,this.event=i,this.downTime=r,this.downTarget=s}),Ni=function(t){return t.interactable="",t.element="",t.prepared="",t.pointerIsDown="",t.pointerWasMoved="",t._proxy="",t}({}),Nn=function(t){return t.start="",t.move="",t.end="",t.stop="",t.interacting="",t}({}),Pi=0,ki=function(){function t(e){var n=this,i=e.pointerType,r=e.scopeFire;v(this,t),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Je(function(f){this.move(f)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=Pi++,this._scopeFire=r,this.pointerType=i;var s=this;this._proxy={};var c=function(f){Object.defineProperty(n._proxy,f,{get:function(){return s[f]}})};for(var u in Ni)c(u);var p=function(f){Object.defineProperty(n._proxy,f,{value:function(){return s[f].apply(s,arguments)}})};for(var m in Nn)p(m);this._scopeFire("interactions:new",{interaction:this})}return b(t,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(e,n,i){var r=this.updatePointer(e,n,i,!0),s=this.pointers[r];this._scopeFire("interactions:down",{pointer:e,event:n,eventTarget:i,pointerIndex:r,pointerInfo:s,type:"down",interaction:this})}},{key:"start",value:function(e,n,i){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(e.name==="gesture"?2:1)||!n.options[e.name].enabled)&&(Vt(this.prepared,e),this.interactable=n,this.element=i,this.rect=n.getRect(i),this.edges=this.prepared.edges?W({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(e,n,i){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(e,n,i,!1);var r,s,c=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(r=this.coords.cur.client.x-this.coords.start.client.x,s=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Xe(r,s)>this.pointerMoveTolerance);var u,p,m,f=this.getPointerIndex(e),x={pointer:e,pointerIndex:f,pointerInfo:this.pointers[f],event:n,type:"move",eventTarget:i,dx:r,dy:s,duplicate:c,interaction:this};c||(u=this.coords.velocity,p=this.coords.delta,m=Math.max(p.timeStamp/1e3,.001),u.page.x=p.page.x/m,u.page.y=p.page.y/m,u.client.x=p.client.x/m,u.client.y=p.client.y/m,u.timeStamp=m),this._scopeFire("interactions:move",x),c||this.simulation||(this.interacting()&&(x.type=null,this.move(x)),this.pointerWasMoved&&at(this.coords.prev,this.coords.cur))}},{key:"move",value:function(e){e&&e.event||on(this.coords.delta),(e=W({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},e||{})).phase="move",this._doPhase(e)}},{key:"pointerUp",value:function(e,n,i,r){var s=this.getPointerIndex(e);s===-1&&(s=this.updatePointer(e,n,i,!1));var c=/cancel$/i.test(n.type)?"cancel":"up";this._scopeFire("interactions:".concat(c),{pointer:e,pointerIndex:s,pointerInfo:this.pointers[s],event:n,eventTarget:i,type:c,curEventTarget:r,interaction:this}),this.simulation||this.end(n),this.removePointer(e,n)}},{key:"documentBlur",value:function(e){this.end(e),this._scopeFire("interactions:blur",{event:e,type:"blur",interaction:this})}},{key:"end",value:function(e){var n;this._ending=!0,e=e||this._latestPointer.event,this.interacting()&&(n=this._doPhase({event:e,interaction:this,phase:"end"})),this._ending=!1,n===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(e){var n=Ue(e);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Ge(this.pointers,function(i){return i.id===n})}},{key:"getPointerInfo",value:function(e){return this.pointers[this.getPointerIndex(e)]}},{key:"updatePointer",value:function(e,n,i,r){var s,c,u,p=Ue(e),m=this.getPointerIndex(e),f=this.pointers[m];return r=r!==!1&&(r||/(down|start)$/i.test(n.type)),f?f.pointer=e:(f=new Mi(p,e,n,null,null),m=this.pointers.length,this.pointers.push(f)),ci(this.coords.cur,this.pointers.map(function(x){return x.pointer}),this._now()),s=this.coords.delta,c=this.coords.prev,u=this.coords.cur,s.page.x=u.page.x-c.page.x,s.page.y=u.page.y-c.page.y,s.client.x=u.client.x-c.client.x,s.client.y=u.client.y-c.client.y,s.timeStamp=u.timeStamp-c.timeStamp,r&&(this.pointerIsDown=!0,f.downTime=this.coords.cur.timeStamp,f.downTarget=i,st(this.downPointer,e),this.interacting()||(at(this.coords.start,this.coords.cur),at(this.coords.prev,this.coords.cur),this.downEvent=n,this.pointerWasMoved=!1)),this._updateLatestPointer(e,n,i),this._scopeFire("interactions:update-pointer",{pointer:e,event:n,eventTarget:i,down:r,pointerInfo:f,pointerIndex:m,interaction:this}),m}},{key:"removePointer",value:function(e,n){var i=this.getPointerIndex(e);if(i!==-1){var r=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:e,event:n,eventTarget:null,pointerIndex:i,pointerInfo:r,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(e,n,i){this._latestPointer.pointer=e,this._latestPointer.event=n,this._latestPointer.eventTarget=i}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(e,n,i,r){return new zt(this,e,this.prepared.name,n,this.element,i,r)}},{key:"_fireEvent",value:function(e){var n;(n=this.interactable)==null||n.fire(e),(!this.prevEvent||e.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=e)}},{key:"_doPhase",value:function(e){var n=e.event,i=e.phase,r=e.preEnd,s=e.type,c=this.rect;if(c&&i==="move"&&(Be(this.edges,c,this.coords.delta[this.interactable.options.deltaSource]),c.width=c.right-c.left,c.height=c.bottom-c.top),this._scopeFire("interactions:before-action-".concat(i),e)===!1)return!1;var u=e.iEvent=this._createPreparedEvent(n,i,r,s);return this._scopeFire("interactions:action-".concat(i),e),i==="start"&&(this.prevEvent=u),this._fireEvent(u),this._scopeFire("interactions:after-action-".concat(i),e),!0}},{key:"_now",value:function(){return Date.now()}}]),t}();function Pn(t){kn(t.interaction)}function kn(t){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(t))return!1;var e=t.offset.pending;return Rt(t.coords.cur,e),Rt(t.coords.delta,e),Be(t.edges,t.rect,e),e.x=0,e.y=0,!0}function Ai(t){var e=t.x,n=t.y;this.offset.pending.x+=e,this.offset.pending.y+=n,this.offset.total.x+=e,this.offset.total.y+=n}function Rt(t,e){var n=t.page,i=t.client,r=e.x,s=e.y;n.x+=r,n.y+=s,i.x+=r,i.y+=s}Nn.offsetBy="";var Vi={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(t){t.Interaction.prototype.offsetBy=Ai},listeners:{"interactions:new":function(t){t.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(t){return function(e){e.pointerIsDown&&(Rt(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}(t.interaction)},"interactions:before-action-start":Pn,"interactions:before-action-move":Pn,"interactions:before-action-end":function(t){var e=t.interaction;if(kn(e))return e.move({offset:!0}),e.end(),!1},"interactions:stop":function(t){var e=t.interaction;e.offset.total.x=0,e.offset.total.y=0,e.offset.pending.x=0,e.offset.pending.y=0}}},An=Vi,Ii=function(){function t(e){v(this,t),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=e}return b(t,[{key:"start",value:function(e){var n=this.interaction,i=pt(n);if(!i||!i.enabled)return!1;var r=n.coords.velocity.client,s=Xe(r.x,r.y),c=this.modification||(this.modification=new $t(n));if(c.copyFrom(n.modification),this.t0=n._now(),this.allowResume=i.allowResume,this.v0=s,this.currentOffset={x:0,y:0},this.startCoords=n.coords.cur.page,this.modifierArg=c.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-n.coords.cur.timeStamp<50&&s>i.minSpeed&&s>i.endSpeed)this.startInertia();else{if(c.result=c.setAll(this.modifierArg),!c.result.changed)return!1;this.startSmoothEnd()}return n.modification.result.rect=null,n.offsetBy(this.targetOffset),n._doPhase({interaction:n,event:e,phase:"inertiastart"}),n.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),n.modification.result.rect=null,this.active=!0,n.simulation=this,!0}},{key:"startInertia",value:function(){var e=this,n=this.interaction.coords.velocity.client,i=pt(this.interaction),r=i.resistance,s=-Math.log(i.endSpeed/this.v0)/r;this.targetOffset={x:(n.x-s)/r,y:(n.y-s)/r},this.te=s,this.lambda_v0=r/this.v0,this.one_ve_v0=1-i.endSpeed/this.v0;var c=this.modification,u=this.modifierArg;u.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},c.result=c.setAll(u),c.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+c.result.delta.x,y:this.targetOffset.y+c.result.delta.y}),this.onNextFrame(function(){return e.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var e=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return e.smoothEndTick()})}},{key:"onNextFrame",value:function(e){var n=this;this.timeout=Pe.request(function(){n.active&&e()})}},{key:"inertiaTick",value:function(){var e,n,i,r,s,c,u,p=this,m=this.interaction,f=pt(m).resistance,x=(m._now()-this.t0)/1e3;if(x<this.te){var E,M=1-(Math.exp(-f*x)-this.lambda_v0)/this.one_ve_v0;this.isModified?(e=0,n=0,i=this.targetOffset.x,r=this.targetOffset.y,s=this.modifiedOffset.x,c=this.modifiedOffset.y,E={x:Vn(u=M,e,i,s),y:Vn(u,n,r,c)}):E={x:this.targetOffset.x*M,y:this.targetOffset.y*M};var S={x:E.x-this.currentOffset.x,y:E.y-this.currentOffset.y};this.currentOffset.x+=S.x,this.currentOffset.y+=S.y,m.offsetBy(S),m.move(),this.onNextFrame(function(){return p.inertiaTick()})}else m.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var e=this,n=this.interaction,i=n._now()-this.t0,r=pt(n).smoothEndDuration;if(i<r){var s={x:In(i,0,this.targetOffset.x,r),y:In(i,0,this.targetOffset.y,r)},c={x:s.x-this.currentOffset.x,y:s.y-this.currentOffset.y};this.currentOffset.x+=c.x,this.currentOffset.y+=c.y,n.offsetBy(c),n.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return e.smoothEndTick()})}else n.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(e){var n=e.pointer,i=e.event,r=e.eventTarget,s=this.interaction;s.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),s.updatePointer(n,i,r,!0),s._doPhase({interaction:s,event:i,phase:"resume"}),at(s.coords.prev,s.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,Pe.cancel(this.timeout)}}]),t}();function pt(t){var e=t.interactable,n=t.prepared;return e&&e.options&&n.name&&e.options[n.name].inertia}var Ci={id:"inertia",before:["modifiers","actions"],install:function(t){var e=t.defaults;t.usePlugin(An),t.usePlugin(Sn),t.actions.phases.inertiastart=!0,t.actions.phases.resume=!0,e.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(t){var e=t.interaction;e.inertia=new Ii(e)},"interactions:before-action-end":function(t){var e=t.interaction,n=t.event;return(!e._interacting||e.simulation||!e.inertia.start(n))&&null},"interactions:down":function(t){var e=t.interaction,n=t.eventTarget,i=e.inertia;if(i.active)for(var r=n;_.element(r);){if(r===e.element){i.resume(t);break}r=oe(r)}},"interactions:stop":function(t){var e=t.interaction.inertia;e.active&&e.stop()},"interactions:before-action-resume":function(t){var e=t.interaction.modification;e.stop(t),e.start(t,t.interaction.coords.cur.page),e.applyToInteraction(t)},"interactions:before-action-inertiastart":function(t){return t.interaction.modification.setAndApply(t)},"interactions:action-resume":Ze,"interactions:action-inertiastart":Ze,"interactions:after-action-inertiastart":function(t){return t.interaction.modification.restoreInteractionCoords(t)},"interactions:after-action-resume":function(t){return t.interaction.modification.restoreInteractionCoords(t)}}};function Vn(t,e,n,i){var r=1-t;return r*r*e+2*r*t*n+t*t*i}function In(t,e,n,i){return-n*(t/=i)*(t-2)+e}var Li=Ci;function Cn(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(t.immediatePropagationStopped)break;i(t)}}var Ln=function(){function t(e){v(this,t),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=W({},e||{})}return b(t,[{key:"fire",value:function(e){var n,i=this.global;(n=this.types[e.type])&&Cn(e,n),!e.propagationStopped&&i&&(n=i[e.type])&&Cn(e,n)}},{key:"on",value:function(e,n){var i=ze(e,n);for(e in i)this.types[e]=dn(this.types[e]||[],i[e])}},{key:"off",value:function(e,n){var i=ze(e,n);for(e in i){var r=this.types[e];if(r&&r.length)for(var s=0,c=i[e];s<c.length;s++){var u=c[s],p=r.indexOf(u);p!==-1&&r.splice(p,1)}}}},{key:"getRect",value:function(e){return null}}]),t}(),$i=function(){function t(e){v(this,t),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=e,st(this,e)}return b(t,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),t}();function Ke(t){return _.object(t)?{capture:!!t.capture,passive:!!t.passive}:{capture:!!t,passive:!1}}function ft(t,e){return t===e||(typeof t=="boolean"?!!e.capture===t&&!e.passive:!!t.capture==!!e.capture&&!!t.passive==!!e.passive)}var zi={id:"events",install:function(t){var e,n=[],i={},r=[],s={add:c,remove:u,addDelegate:function(f,x,E,M,S){var k=Ke(S);if(!i[E]){i[E]=[];for(var R=0;R<r.length;R++){var $=r[R];c($,E,p),c($,E,m,!0)}}var U=i[E],K=Qe(U,function(re){return re.selector===f&&re.context===x});K||(K={selector:f,context:x,listeners:[]},U.push(K)),K.listeners.push({func:M,options:k})},removeDelegate:function(f,x,E,M,S){var k,R=Ke(S),$=i[E],U=!1;if($)for(k=$.length-1;k>=0;k--){var K=$[k];if(K.selector===f&&K.context===x){for(var re=K.listeners,Q=re.length-1;Q>=0;Q--){var te=re[Q];if(te.func===M&&ft(te.options,R)){re.splice(Q,1),re.length||($.splice(k,1),u(x,E,p),u(x,E,m,!0)),U=!0;break}}if(U)break}}},delegateListener:p,delegateUseCapture:m,delegatedEvents:i,documents:r,targets:n,supportsOptions:!1,supportsPassive:!1};function c(f,x,E,M){if(f.addEventListener){var S=Ke(M),k=Qe(n,function(R){return R.eventTarget===f});k||(k={eventTarget:f,events:{}},n.push(k)),k.events[x]||(k.events[x]=[]),Qe(k.events[x],function(R){return R.func===E&&ft(R.options,S)})||(f.addEventListener(x,E,s.supportsOptions?S:S.capture),k.events[x].push({func:E,options:S}))}}function u(f,x,E,M){if(f.addEventListener&&f.removeEventListener){var S=Ge(n,function(ge){return ge.eventTarget===f}),k=n[S];if(k&&k.events)if(x!=="all"){var R=!1,$=k.events[x];if($){if(E==="all"){for(var U=$.length-1;U>=0;U--){var K=$[U];u(f,x,K.func,K.options)}return}for(var re=Ke(M),Q=0;Q<$.length;Q++){var te=$[Q];if(te.func===E&&ft(te.options,re)){f.removeEventListener(x,E,s.supportsOptions?re:re.capture),$.splice(Q,1),$.length===0&&(delete k.events[x],R=!0);break}}}R&&!Object.keys(k.events).length&&n.splice(S,1)}else for(x in k.events)k.events.hasOwnProperty(x)&&u(f,x,"all")}}function p(f,x){for(var E=Ke(x),M=new $i(f),S=i[f.type],k=un(f)[0],R=k;_.element(R);){for(var $=0;$<S.length;$++){var U=S[$],K=U.selector,re=U.context;if(se(R,K)&&B(re,k)&&B(re,R)){var Q=U.listeners;M.currentTarget=R;for(var te=0;te<Q.length;te++){var ge=Q[te];ft(ge.options,E)&&ge.func(M)}}}R=oe(R)}}function m(f){return p(f,!0)}return(e=t.document)==null||e.createElement("div").addEventListener("test",null,{get capture(){return s.supportsOptions=!0},get passive(){return s.supportsPassive=!0}}),t.events=s,s}},Ht={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(t){for(var e=0,n=Ht.methodOrder;e<n.length;e++){var i=n[e],r=Ht[i](t);if(r)return r}return null},simulationResume:function(t){var e=t.pointerType,n=t.eventType,i=t.eventTarget,r=t.scope;if(!/down|start/i.test(n))return null;for(var s=0,c=r.interactions.list;s<c.length;s++){var u=c[s],p=i;if(u.simulation&&u.simulation.allowResume&&u.pointerType===e)for(;p;){if(p===u.element)return u;p=oe(p)}}return null},mouseOrPen:function(t){var e,n=t.pointerId,i=t.pointerType,r=t.eventType,s=t.scope;if(i!=="mouse"&&i!=="pen")return null;for(var c=0,u=s.interactions.list;c<u.length;c++){var p=u[c];if(p.pointerType===i){if(p.simulation&&!$n(p,n))continue;if(p.interacting())return p;e||(e=p)}}if(e)return e;for(var m=0,f=s.interactions.list;m<f.length;m++){var x=f[m];if(!(x.pointerType!==i||/down/i.test(r)&&x.simulation))return x}return null},hasPointer:function(t){for(var e=t.pointerId,n=0,i=t.scope.interactions.list;n<i.length;n++){var r=i[n];if($n(r,e))return r}return null},idle:function(t){for(var e=t.pointerType,n=0,i=t.scope.interactions.list;n<i.length;n++){var r=i[n];if(r.pointers.length===1){var s=r.interactable;if(s&&(!s.options.gesture||!s.options.gesture.enabled))continue}else if(r.pointers.length>=2)continue;if(!r.interacting()&&e===r.pointerType)return r}return null}};function $n(t,e){return t.pointers.some(function(n){return n.id===e})}var Ri=Ht,jt=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function zn(t,e){return function(n){var i=e.interactions.list,r=ln(n),s=un(n),c=s[0],u=s[1],p=[];if(/^touch/.test(n.type)){e.prevTouchTime=e.now();for(var m=0,f=n.changedTouches;m<f.length;m++){var x=f[m],E={pointer:x,pointerId:Ue(x),pointerType:r,eventType:n.type,eventTarget:c,curEventTarget:u,scope:e},M=Rn(E);p.push([E.pointer,E.eventTarget,E.curEventTarget,M])}}else{var S=!1;if(!q.supportsPointerEvent&&/mouse/.test(n.type)){for(var k=0;k<i.length&&!S;k++)S=i[k].pointerType!=="mouse"&&i[k].pointerIsDown;S=S||e.now()-e.prevTouchTime<500||n.timeStamp===0}if(!S){var R={pointer:n,pointerId:Ue(n),pointerType:r,eventType:n.type,curEventTarget:u,eventTarget:c,scope:e},$=Rn(R);p.push([R.pointer,R.eventTarget,R.curEventTarget,$])}}for(var U=0;U<p.length;U++){var K=p[U],re=K[0],Q=K[1],te=K[2];K[3][t](re,n,Q,te)}}}function Rn(t){var e=t.pointerType,n=t.scope,i={interaction:Ri.search(t),searchDetails:t};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:e})}function Yt(t,e){var n=t.doc,i=t.scope,r=t.options,s=i.interactions.docEvents,c=i.events,u=c[e];for(var p in i.browser.isIOS&&!r.events&&(r.events={passive:!1}),c.delegatedEvents)u(n,p,c.delegateListener),u(n,p,c.delegateUseCapture,!0);for(var m=r&&r.events,f=0;f<s.length;f++){var x=s[f];u(n,x.type,x.listener,m)}}var Hi={id:"core/interactions",install:function(t){for(var e={},n=0;n<jt.length;n++){var i=jt[n];e[i]=zn(i,t)}var r,s=q.pEventTypes;function c(){for(var u=0,p=t.interactions.list;u<p.length;u++){var m=p[u];if(m.pointerIsDown&&m.pointerType==="touch"&&!m._interacting)for(var f=function(){var M=E[x];t.documents.some(function(S){return B(S.doc,M.downTarget)})||m.removePointer(M.pointer,M.event)},x=0,E=m.pointers;x<E.length;x++)f()}}(r=H.PointerEvent?[{type:s.down,listener:c},{type:s.down,listener:e.pointerDown},{type:s.move,listener:e.pointerMove},{type:s.up,listener:e.pointerUp},{type:s.cancel,listener:e.pointerUp}]:[{type:"mousedown",listener:e.pointerDown},{type:"mousemove",listener:e.pointerMove},{type:"mouseup",listener:e.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:e.pointerDown},{type:"touchmove",listener:e.pointerMove},{type:"touchend",listener:e.pointerUp},{type:"touchcancel",listener:e.pointerUp}]).push({type:"blur",listener:function(u){for(var p=0,m=t.interactions.list;p<m.length;p++)m[p].documentBlur(u)}}),t.prevTouchTime=0,t.Interaction=function(u){w(m,u);var p=T(m);function m(){return v(this,m),p.apply(this,arguments)}return b(m,[{key:"pointerMoveTolerance",get:function(){return t.interactions.pointerMoveTolerance},set:function(f){t.interactions.pointerMoveTolerance=f}},{key:"_now",value:function(){return t.now()}}]),m}(ki),t.interactions={list:[],new:function(u){u.scopeFire=function(m,f){return t.fire(m,f)};var p=new t.Interaction(u);return t.interactions.list.push(p),p},listeners:e,docEvents:r,pointerMoveTolerance:1},t.usePlugin(On)},listeners:{"scope:add-document":function(t){return Yt(t,"add")},"scope:remove-document":function(t){return Yt(t,"remove")},"interactable:unset":function(t,e){for(var n=t.interactable,i=e.interactions.list.length-1;i>=0;i--){var r=e.interactions.list[i];r.interactable===n&&(r.stop(),e.fire("interactions:destroy",{interaction:r}),r.destroy(),e.interactions.list.length>2&&e.interactions.list.splice(i,1))}}},onDocSignal:Yt,doOnInteractions:zn,methodNames:jt},ji=Hi,Ae=function(t){return t[t.On=0]="On",t[t.Off=1]="Off",t}(Ae||{}),Yi=function(){function t(e,n,i,r){v(this,t),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Ln,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=n.actions,this.target=e,this._context=n.context||i,this._win=G(pe(e)?this._context:e),this._doc=this._win.document,this._scopeEvents=r,this.set(n)}return b(t,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(e,n){return _.func(n.onstart)&&this.on("".concat(e,"start"),n.onstart),_.func(n.onmove)&&this.on("".concat(e,"move"),n.onmove),_.func(n.onend)&&this.on("".concat(e,"end"),n.onend),_.func(n.oninertiastart)&&this.on("".concat(e,"inertiastart"),n.oninertiastart),this}},{key:"updatePerActionListeners",value:function(e,n,i){var r,s=this,c=(r=this._actions.map[e])==null?void 0:r.filterEventType,u=function(p){return(c==null||c(p))&&dt(p,s._actions)};(_.array(n)||_.object(n))&&this._onOff(Ae.Off,e,n,void 0,u),(_.array(i)||_.object(i))&&this._onOff(Ae.On,e,i,void 0,u)}},{key:"setPerAction",value:function(e,n){var i=this._defaults;for(var r in n){var s=r,c=this.options[e],u=n[s];s==="listeners"&&this.updatePerActionListeners(e,c.listeners,u),_.array(u)?c[s]=hn(u):_.plainObject(u)?(c[s]=W(c[s]||{},Fe(u)),_.object(i.perAction[s])&&"enabled"in i.perAction[s]&&(c[s].enabled=u.enabled!==!1)):_.bool(u)&&_.object(i.perAction[s])?c[s].enabled=u:c[s]=u}}},{key:"getRect",value:function(e){return e=e||(_.element(this.target)?this.target:null),_.string(this.target)&&(e=e||this._context.querySelector(this.target)),ve(e)}},{key:"rectChecker",value:function(e){var n=this;return _.func(e)?(this.getRect=function(i){var r=W({},e.apply(n,i));return"width"in r||(r.width=r.right-r.left,r.height=r.bottom-r.top),r},this):e===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(e,n){if(pe(n)||_.object(n)){for(var i in this.options[e]=n,this._actions.map)this.options[i][e]=n;return this}return this.options[e]}},{key:"origin",value:function(e){return this._backCompatOption("origin",e)}},{key:"deltaSource",value:function(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var e=this.target;return _.string(e)?Array.from(this._context.querySelectorAll(e)):_.func(e)&&e.getAllElements?e.getAllElements():_.element(e)?[e]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(e){return this._context===e.ownerDocument||B(this._context,e)}},{key:"testIgnoreAllow",value:function(e,n,i){return!this.testIgnore(e.ignoreFrom,n,i)&&this.testAllow(e.allowFrom,n,i)}},{key:"testAllow",value:function(e,n,i){return!e||!!_.element(i)&&(_.string(e)?he(i,e,n):!!_.element(e)&&B(e,i))}},{key:"testIgnore",value:function(e,n,i){return!(!e||!_.element(i))&&(_.string(e)?he(i,e,n):!!_.element(e)&&B(e,i))}},{key:"fire",value:function(e){return this.events.fire(e),this}},{key:"_onOff",value:function(e,n,i,r,s){_.object(n)&&!_.array(n)&&(r=i,i=null);var c=ze(n,i,s);for(var u in c){u==="wheel"&&(u=q.wheelEvent);for(var p=0,m=c[u];p<m.length;p++){var f=m[p];dt(u,this._actions)?this.events[e===Ae.On?"on":"off"](u,f):_.string(this.target)?this._scopeEvents[e===Ae.On?"addDelegate":"removeDelegate"](this.target,this._context,u,f,r):this._scopeEvents[e===Ae.On?"add":"remove"](this.target,u,f,r)}}return this}},{key:"on",value:function(e,n,i){return this._onOff(Ae.On,e,n,i)}},{key:"off",value:function(e,n,i){return this._onOff(Ae.Off,e,n,i)}},{key:"set",value:function(e){var n=this._defaults;for(var i in _.object(e)||(e={}),this.options=Fe(n.base),this._actions.methodDict){var r=i,s=this._actions.methodDict[r];this.options[r]={},this.setPerAction(r,W(W({},n.perAction),n.actions[r])),this[s](e[r])}for(var c in e)c!=="getRect"?_.func(this[c])&&this[c](e[c]):this.rectChecker(e.getRect);return this}},{key:"unset",value:function(){if(_.string(this.target))for(var e in this._scopeEvents.delegatedEvents)for(var n=this._scopeEvents.delegatedEvents[e],i=n.length-1;i>=0;i--){var r=n[i],s=r.selector,c=r.context,u=r.listeners;s===this.target&&c===this._context&&n.splice(i,1);for(var p=u.length-1;p>=0;p--)this._scopeEvents.removeDelegate(this.target,this._context,e,u[p][0],u[p][1])}else this._scopeEvents.remove(this.target,"all")}}]),t}(),Fi=function(){function t(e){var n=this;v(this,t),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=e,e.addListeners({"interactable:unset":function(i){var r=i.interactable,s=r.target,c=_.string(s)?n.selectorMap[s]:s[n.scope.id],u=Ge(c,function(p){return p===r});c.splice(u,1)}})}return b(t,[{key:"new",value:function(e,n){n=W(n||{},{actions:this.scope.actions});var i=new this.scope.Interactable(e,n,this.scope.document,this.scope.events);return this.scope.addDocument(i._doc),this.list.push(i),_.string(e)?(this.selectorMap[e]||(this.selectorMap[e]=[]),this.selectorMap[e].push(i)):(i.target[this.scope.id]||Object.defineProperty(e,this.scope.id,{value:[],configurable:!0}),e[this.scope.id].push(i)),this.scope.fire("interactable:new",{target:e,options:n,interactable:i,win:this.scope._win}),i}},{key:"getExisting",value:function(e,n){var i=n&&n.context||this.scope.document,r=_.string(e),s=r?this.selectorMap[e]:e[this.scope.id];if(s)return Qe(s,function(c){return c._context===i&&(r||c.inContext(e))})}},{key:"forEachMatch",value:function(e,n){for(var i=0,r=this.list;i<r.length;i++){var s=r[i],c=void 0;if((_.string(s.target)?_.element(e)&&se(e,s.target):e===s.target)&&s.inContext(e)&&(c=n(s)),c!==void 0)return c}}}]),t}(),Wi=function(){function t(){var e=this;v(this,t),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=q,this.defaults=Fe(Mn),this.Eventable=Ln,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=function(i){var r=function s(c,u){var p=i.interactables.getExisting(c,u);return p||((p=i.interactables.new(c,u)).events.global=s.globalEvents),p};return r.getPointerAverage=cn,r.getTouchBBox=Tt,r.getTouchDistance=Ot,r.getTouchAngle=St,r.getElementRect=ve,r.getElementClientRect=xe,r.matchesSelector=se,r.closest=ne,r.globalEvents={},r.version="1.10.27",r.scope=i,r.use=function(s,c){return this.scope.usePlugin(s,c),this},r.isSet=function(s,c){return!!this.scope.interactables.get(s,c&&c.context)},r.on=Je(function(s,c,u){if(_.string(s)&&s.search(" ")!==-1&&(s=s.trim().split(/ +/)),_.array(s)){for(var p=0,m=s;p<m.length;p++){var f=m[p];this.on(f,c,u)}return this}if(_.object(s)){for(var x in s)this.on(x,s[x],c);return this}return dt(s,this.scope.actions)?this.globalEvents[s]?this.globalEvents[s].push(c):this.globalEvents[s]=[c]:this.scope.events.add(this.scope.document,s,c,{options:u}),this},"The interact.on() method is being deprecated"),r.off=Je(function(s,c,u){if(_.string(s)&&s.search(" ")!==-1&&(s=s.trim().split(/ +/)),_.array(s)){for(var p=0,m=s;p<m.length;p++){var f=m[p];this.off(f,c,u)}return this}if(_.object(s)){for(var x in s)this.off(x,s[x],c);return this}var E;return dt(s,this.scope.actions)?s in this.globalEvents&&(E=this.globalEvents[s].indexOf(c))!==-1&&this.globalEvents[s].splice(E,1):this.scope.events.remove(this.scope.document,s,c,u),this},"The interact.off() method is being deprecated"),r.debug=function(){return this.scope},r.supportsTouch=function(){return q.supportsTouch},r.supportsPointerEvent=function(){return q.supportsPointerEvent},r.stop=function(){for(var s=0,c=this.scope.interactions.list;s<c.length;s++)c[s].stop();return this},r.pointerMoveTolerance=function(s){return _.number(s)?(this.scope.interactions.pointerMoveTolerance=s,this):this.scope.interactions.pointerMoveTolerance},r.addDocument=function(s,c){this.scope.addDocument(s,c)},r.removeDocument=function(s){this.scope.removeDocument(s)},r}(this),this.InteractEvent=zt,this.Interactable=void 0,this.interactables=new Fi(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(i){return e.removeDocument(i.target)};var n=this;this.Interactable=function(i){w(s,i);var r=T(s);function s(){return v(this,s),r.apply(this,arguments)}return b(s,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(c){return O(V(s.prototype),"set",this).call(this,c),n.fire("interactable:set",{options:c,interactable:this}),this}},{key:"unset",value:function(){O(V(s.prototype),"unset",this).call(this);var c=n.interactables.list.indexOf(this);c<0||(n.interactables.list.splice(c,1),n.fire("interactable:unset",{interactable:this}))}}]),s}(Yi)}return b(t,[{key:"addListeners",value:function(e,n){this.listenerMaps.push({id:n,map:e})}},{key:"fire",value:function(e,n){for(var i=0,r=this.listenerMaps;i<r.length;i++){var s=r[i].map[e];if(s&&s(n,this,e)===!1)return!1}}},{key:"init",value:function(e){return this.isInitialized?this:function(n,i){return n.isInitialized=!0,_.window(i)&&X(i),H.init(i),q.init(i),Pe.init(i),n.window=i,n.document=i.document,n.usePlugin(ji),n.usePlugin(zi),n}(this,e)}},{key:"pluginIsInstalled",value:function(e){var n=e.id;return n?!!this._plugins.map[n]:this._plugins.list.indexOf(e)!==-1}},{key:"usePlugin",value:function(e,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(e))return this;if(e.id&&(this._plugins.map[e.id]=e),this._plugins.list.push(e),e.install&&e.install(this,n),e.listeners&&e.before){for(var i=0,r=this.listenerMaps.length,s=e.before.reduce(function(u,p){return u[p]=!0,u[Hn(p)]=!0,u},{});i<r;i++){var c=this.listenerMaps[i].id;if(c&&(s[c]||s[Hn(c)]))break}this.listenerMaps.splice(i,0,{id:e.id,map:e.listeners})}else e.listeners&&this.listenerMaps.push({id:e.id,map:e.listeners});return this}},{key:"addDocument",value:function(e,n){if(this.getDocIndex(e)!==-1)return!1;var i=G(e);n=n?W({},n):{},this.documents.push({doc:e,options:n}),this.events.documents.push(e),e!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:e,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(e){var n=this.getDocIndex(e),i=G(e),r=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:e,window:i,scope:this,options:r})}},{key:"getDocIndex",value:function(e){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===e)return n;return-1}},{key:"getDocOptions",value:function(e){var n=this.getDocIndex(e);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),t}();function Hn(t){return t&&t.replace(/\/.*$/,"")}var jn=new Wi,fe=jn.interactStatic,Bi=typeof globalThis<"u"?globalThis:window;jn.init(Bi);var qi=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(t){var e=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(i){var r=i[0],s=i[1];return r in t||s in t}),n=function(i,r){for(var s=t.range,c=t.limits,u=c===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:c,p=t.offset,m=p===void 0?{x:0,y:0}:p,f={range:s,grid:t,x:null,y:null},x=0;x<e.length;x++){var E=e[x],M=E[0],S=E[1],k=Math.round((i-m.x)/t[M]),R=Math.round((r-m.y)/t[S]);f[M]=Math.max(u.left,Math.min(u.right,k*t[M]+m.x)),f[S]=Math.max(u.top,Math.min(u.bottom,R*t[S]+m.y))}return f};return n.grid=t,n.coordFields=e,n}}),Xi={id:"snappers",install:function(t){var e=t.interactStatic;e.snappers=W(e.snappers||{},qi),e.createSnapGrid=e.snappers.grid}},Ui=Xi,Gi={start:function(t){var e=t.state,n=t.rect,i=t.edges,r=t.pageCoords,s=e.options,c=s.ratio,u=s.enabled,p=e.options,m=p.equalDelta,f=p.modifiers;c==="preserve"&&(c=n.width/n.height),e.startCoords=W({},r),e.startRect=W({},n),e.ratio=c,e.equalDelta=m;var x=e.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(e.xIsPrimaryAxis=!(!i.left&&!i.right),e.equalDelta){var E=(x.left?1:-1)*(x.top?1:-1);e.edgeSign={x:E,y:E}}else e.edgeSign={x:x.left?-1:1,y:x.top?-1:1};if(u!==!1&&W(i,x),f!=null&&f.length){var M=new $t(t.interaction);M.copyFrom(t.interaction.modification),M.prepareStates(f),e.subModification=M,M.startAll(l({},t))}},set:function(t){var e=t.state,n=t.rect,i=t.coords,r=e.linkedEdges,s=W({},i),c=e.equalDelta?Qi:Ji;if(W(t.edges,r),c(e,e.xIsPrimaryAxis,i,n),!e.subModification)return null;var u=W({},n);Be(r,u,{x:i.x-s.x,y:i.y-s.y});var p=e.subModification.setAll(l(l({},t),{},{rect:u,edges:r,pageCoords:i,prevCoords:i,prevRect:u})),m=p.delta;return p.changed&&(c(e,Math.abs(m.x)>Math.abs(m.y),p.coords,p.rect),W(i,p.coords)),p.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Qi(t,e,n){var i=t.startCoords,r=t.edgeSign;e?n.y=i.y+(n.x-i.x)*r.y:n.x=i.x+(n.y-i.y)*r.x}function Ji(t,e,n,i){var r=t.startRect,s=t.startCoords,c=t.ratio,u=t.edgeSign;if(e){var p=i.width/c;n.y=s.y+(p-r.height)*u.y}else{var m=i.height*c;n.x=s.x+(m-r.width)*u.x}}var Zi=ke(Gi,"aspectRatio"),Yn=function(){};Yn._defaults={};var gt=Yn;function He(t,e,n){return _.func(t)?Te(t,e.interactable,e.element,[n.x,n.y,e]):Te(t,e.interactable,e.element)}var vt={start:function(t){var e=t.rect,n=t.startOffset,i=t.state,r=t.interaction,s=t.pageCoords,c=i.options,u=c.elementRect,p=W({left:0,top:0,right:0,bottom:0},c.offset||{});if(e&&u){var m=He(c.restriction,r,s);if(m){var f=m.right-m.left-e.width,x=m.bottom-m.top-e.height;f<0&&(p.left+=f,p.right+=f),x<0&&(p.top+=x,p.bottom+=x)}p.left+=n.left-e.width*u.left,p.top+=n.top-e.height*u.top,p.right+=n.right-e.width*(1-u.right),p.bottom+=n.bottom-e.height*(1-u.bottom)}i.offset=p},set:function(t){var e=t.coords,n=t.interaction,i=t.state,r=i.options,s=i.offset,c=He(r.restriction,n,e);if(c){var u=function(p){return!p||"left"in p&&"top"in p||((p=W({},p)).left=p.x||0,p.top=p.y||0,p.right=p.right||p.left+p.width,p.bottom=p.bottom||p.top+p.height),p}(c);e.x=Math.max(Math.min(u.right-s.right,e.x),u.left+s.left),e.y=Math.max(Math.min(u.bottom-s.bottom,e.y),u.top+s.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},Ki=ke(vt,"restrict"),Fn={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Wn={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Bn(t,e){for(var n=0,i=["top","left","bottom","right"];n<i.length;n++){var r=i[n];r in t||(t[r]=e[r])}return t}var et={noInner:Fn,noOuter:Wn,start:function(t){var e,n=t.interaction,i=t.startOffset,r=t.state,s=r.options;s&&(e=Ne(He(s.offset,n,n.coords.start.page))),e=e||{x:0,y:0},r.offset={top:e.y+i.top,left:e.x+i.left,bottom:e.y-i.bottom,right:e.x-i.right}},set:function(t){var e=t.coords,n=t.edges,i=t.interaction,r=t.state,s=r.offset,c=r.options;if(n){var u=W({},e),p=He(c.inner,i,u)||{},m=He(c.outer,i,u)||{};Bn(p,Fn),Bn(m,Wn),n.top?e.y=Math.min(Math.max(m.top+s.top,u.y),p.top+s.top):n.bottom&&(e.y=Math.max(Math.min(m.bottom+s.bottom,u.y),p.bottom+s.bottom)),n.left?e.x=Math.min(Math.max(m.left+s.left,u.x),p.left+s.left):n.right&&(e.x=Math.max(Math.min(m.right+s.right,u.x),p.right+s.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},er=ke(et,"restrictEdges"),tr=W({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(t){}},vt.defaults),nr=ke({start:vt.start,set:vt.set,defaults:tr},"restrictRect"),ir={width:-1/0,height:-1/0},rr={width:1/0,height:1/0},or=ke({start:function(t){return et.start(t)},set:function(t){var e=t.interaction,n=t.state,i=t.rect,r=t.edges,s=n.options;if(r){var c=$e(He(s.min,e,t.coords))||ir,u=$e(He(s.max,e,t.coords))||rr;n.options={endOnly:s.endOnly,inner:W({},et.noInner),outer:W({},et.noOuter)},r.top?(n.options.inner.top=i.bottom-c.height,n.options.outer.top=i.bottom-u.height):r.bottom&&(n.options.inner.bottom=i.top+c.height,n.options.outer.bottom=i.top+u.height),r.left?(n.options.inner.left=i.right-c.width,n.options.outer.left=i.right-u.width):r.right&&(n.options.inner.right=i.left+c.width,n.options.outer.right=i.left+u.width),et.set(t),n.options=s}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),Ft={start:function(t){var e,n=t.interaction,i=t.interactable,r=t.element,s=t.rect,c=t.state,u=t.startOffset,p=c.options,m=p.offsetWithOrigin?function(E){var M=E.interaction.element,S=Ne(Te(E.state.options.origin,null,null,[M])),k=S||qe(E.interactable,M,E.interaction.prepared.name);return k}(t):{x:0,y:0};if(p.offset==="startCoords")e={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var f=Te(p.offset,i,r,[n]);(e=Ne(f)||{x:0,y:0}).x+=m.x,e.y+=m.y}var x=p.relativePoints;c.offsets=s&&x&&x.length?x.map(function(E,M){return{index:M,relativePoint:E,x:u.left-s.width*E.x+e.x,y:u.top-s.height*E.y+e.y}}):[{index:0,relativePoint:null,x:e.x,y:e.y}]},set:function(t){var e=t.interaction,n=t.coords,i=t.state,r=i.options,s=i.offsets,c=qe(e.interactable,e.element,e.prepared.name),u=W({},n),p=[];r.offsetWithOrigin||(u.x-=c.x,u.y-=c.y);for(var m=0,f=s;m<f.length;m++)for(var x=f[m],E=u.x-x.x,M=u.y-x.y,S=0,k=r.targets.length;S<k;S++){var R=r.targets[S],$=void 0;($=_.func(R)?R(E,M,e._proxy,x,S):R)&&p.push({x:(_.number($.x)?$.x:E)+x.x,y:(_.number($.y)?$.y:M)+x.y,range:_.number($.range)?$.range:r.range,source:R,index:S,offset:x})}for(var U={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},K=0;K<p.length;K++){var re=p[K],Q=re.range,te=re.x-u.x,ge=re.y-u.y,ce=Xe(te,ge),ye=ce<=Q;Q===1/0&&U.inRange&&U.range!==1/0&&(ye=!1),U.target&&!(ye?U.inRange&&Q!==1/0?ce/Q<U.distance/U.range:Q===1/0&&U.range!==1/0||ce<U.distance:!U.inRange&&ce<U.distance)||(U.target=re,U.distance=ce,U.range=Q,U.inRange=ye,U.delta.x=te,U.delta.y=ge)}return U.inRange&&(n.x=U.target.x,n.y=U.target.y),i.closest=U,U},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},sr=ke(Ft,"snap"),mt={start:function(t){var e=t.state,n=t.edges,i=e.options;if(!n)return null;t.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},e.targetFields=e.targetFields||[["width","height"],["x","y"]],Ft.start(t),e.offsets=t.state.offsets,t.state=e},set:function(t){var e=t.interaction,n=t.state,i=t.coords,r=n.options,s=n.offsets,c={x:i.x-s[0].x,y:i.y-s[0].y};n.options=W({},r),n.options.targets=[];for(var u=0,p=r.targets||[];u<p.length;u++){var m=p[u],f=void 0;if(f=_.func(m)?m(c.x,c.y,e):m){for(var x=0,E=n.targetFields;x<E.length;x++){var M=E[x],S=M[0],k=M[1];if(S in f||k in f){f.x=f[S],f.y=f[k];break}}n.options.targets.push(f)}}var R=Ft.set(t);return n.options=r,R},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},ar=ke(mt,"snapSize"),Wt={aspectRatio:Zi,restrictEdges:er,restrict:Ki,restrictRect:nr,restrictSize:or,snapEdges:ke({start:function(t){var e=t.edges;return e?(t.state.targetFields=t.state.targetFields||[[e.left?"left":"right",e.top?"top":"bottom"]],mt.start(t)):null},set:mt.set,defaults:W(Fe(mt.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:sr,snapSize:ar,spring:gt,avoid:gt,transform:gt,rubberband:gt},cr={id:"modifiers",install:function(t){var e=t.interactStatic;for(var n in t.usePlugin(Sn),t.usePlugin(Ui),e.modifiers=Wt,Wt){var i=Wt[n],r=i._defaults,s=i._methods;r._methods=s,t.defaults.perAction[n]=r}}},lr=cr,qn=function(t){w(n,t);var e=T(n);function n(i,r,s,c,u,p){var m;if(v(this,n),st(A(m=e.call(this,u)),s),s!==r&&st(A(m),r),m.timeStamp=p,m.originalEvent=s,m.type=i,m.pointerId=Ue(r),m.pointerType=ln(r),m.target=c,m.currentTarget=null,i==="tap"){var f=u.getPointerIndex(r);m.dt=m.timeStamp-u.pointers[f].downTime;var x=m.timeStamp-u.tapTime;m.double=!!u.prevTap&&u.prevTap.type!=="doubletap"&&u.prevTap.target===m.target&&x<500}else i==="doubletap"&&(m.dt=r.timeStamp-u.tapTime,m.double=!0);return m}return b(n,[{key:"_subtractOrigin",value:function(i){var r=i.x,s=i.y;return this.pageX-=r,this.pageY-=s,this.clientX-=r,this.clientY-=s,this}},{key:"_addOrigin",value:function(i){var r=i.x,s=i.y;return this.pageX+=r,this.pageY+=s,this.clientX+=r,this.clientY+=s,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),n}(lt),tt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(t){t.pointerEvents=tt,t.defaults.actions.pointerEvents=tt.defaults,W(t.actions.phaselessTypes,tt.types)},listeners:{"interactions:new":function(t){var e=t.interaction;e.prevTap=null,e.tapTime=0},"interactions:update-pointer":function(t){var e=t.down,n=t.pointerInfo;!e&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(t,e){var n=t.interaction,i=t.pointer,r=t.event,s=t.eventTarget;t.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&Bt(t),Ve({interaction:n,pointer:i,event:r,eventTarget:s,type:"move"},e))},"interactions:down":function(t,e){(function(n,i){for(var r=n.interaction,s=n.pointer,c=n.event,u=n.eventTarget,p=n.pointerIndex,m=r.pointers[p].hold,f=de(u),x={interaction:r,pointer:s,event:c,eventTarget:u,type:"hold",targets:[],path:f,node:null},E=0;E<f.length;E++){var M=f[E];x.node=M,i.fire("pointerEvents:collect-targets",x)}if(x.targets.length){for(var S=1/0,k=0,R=x.targets;k<R.length;k++){var $=R[k].eventable.options.holdDuration;$<S&&(S=$)}m.duration=S,m.timeout=setTimeout(function(){Ve({interaction:r,eventTarget:u,pointer:s,event:c,type:"hold"},i)},S)}})(t,e),Ve(t,e)},"interactions:up":function(t,e){Bt(t),Ve(t,e),function(n,i){var r=n.interaction,s=n.pointer,c=n.event,u=n.eventTarget;r.pointerWasMoved||Ve({interaction:r,eventTarget:u,pointer:s,event:c,type:"tap"},i)}(t,e)},"interactions:cancel":function(t,e){Bt(t),Ve(t,e)}},PointerEvent:qn,fire:Ve,collectEventTargets:Xn,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Ve(t,e){var n=t.interaction,i=t.pointer,r=t.event,s=t.eventTarget,c=t.type,u=t.targets,p=u===void 0?Xn(t,e):u,m=new qn(c,i,r,s,n,e.now());e.fire("pointerEvents:new",{pointerEvent:m});for(var f={interaction:n,pointer:i,event:r,eventTarget:s,targets:p,type:c,pointerEvent:m},x=0;x<p.length;x++){var E=p[x];for(var M in E.props||{})m[M]=E.props[M];var S=qe(E.eventable,E.node);if(m._subtractOrigin(S),m.eventable=E.eventable,m.currentTarget=E.node,E.eventable.fire(m),m._addOrigin(S),m.immediatePropagationStopped||m.propagationStopped&&x+1<p.length&&p[x+1].node!==m.currentTarget)break}if(e.fire("pointerEvents:fired",f),c==="tap"){var k=m.double?Ve({interaction:n,pointer:i,event:r,eventTarget:s,type:"doubletap"},e):m;n.prevTap=k,n.tapTime=k.timeStamp}return m}function Xn(t,e){var n=t.interaction,i=t.pointer,r=t.event,s=t.eventTarget,c=t.type,u=n.getPointerIndex(i),p=n.pointers[u];if(c==="tap"&&(n.pointerWasMoved||!p||p.downTarget!==s))return[];for(var m=de(s),f={interaction:n,pointer:i,event:r,eventTarget:s,type:c,path:m,targets:[],node:null},x=0;x<m.length;x++){var E=m[x];f.node=E,e.fire("pointerEvents:collect-targets",f)}return c==="hold"&&(f.targets=f.targets.filter(function(M){var S,k;return M.eventable.options.holdDuration===((S=n.pointers[u])==null||(k=S.hold)==null?void 0:k.duration)})),f.targets}function Bt(t){var e=t.interaction,n=t.pointerIndex,i=e.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var ur=Object.freeze({__proto__:null,default:tt});function dr(t){var e=t.interaction;e.holdIntervalHandle&&(clearInterval(e.holdIntervalHandle),e.holdIntervalHandle=null)}var hr={id:"pointer-events/holdRepeat",install:function(t){t.usePlugin(tt);var e=t.pointerEvents;e.defaults.holdRepeatInterval=0,e.types.holdrepeat=t.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(t,e){return t["pointerEvents:".concat(e)]=dr,t},{"pointerEvents:new":function(t){var e=t.pointerEvent;e.type==="hold"&&(e.count=(e.count||0)+1)},"pointerEvents:fired":function(t,e){var n=t.interaction,i=t.pointerEvent,r=t.eventTarget,s=t.targets;if(i.type==="hold"&&s.length){var c=s[0].eventable.options.holdRepeatInterval;c<=0||(n.holdIntervalHandle=setTimeout(function(){e.pointerEvents.fire({interaction:n,eventTarget:r,type:"hold",pointer:i,event:i},e)},c))}}})},pr=hr,fr={id:"pointer-events/interactableTargets",install:function(t){var e=t.Interactable;e.prototype.pointerEvents=function(i){return W(this.events.options,i),this};var n=e.prototype._backCompatOption;e.prototype._backCompatOption=function(i,r){var s=n.call(this,i,r);return s===this&&(this.events.options[i]=r),s}},listeners:{"pointerEvents:collect-targets":function(t,e){var n=t.targets,i=t.node,r=t.type,s=t.eventTarget;e.interactables.forEachMatch(i,function(c){var u=c.events,p=u.options;u.types[r]&&u.types[r].length&&c.testIgnoreAllow(p,i,s)&&n.push({node:i,eventable:u,props:{interactable:c}})})},"interactable:new":function(t){var e=t.interactable;e.events.getRect=function(n){return e.getRect(n)}},"interactable:set":function(t,e){var n=t.interactable,i=t.options;W(n.events.options,e.pointerEvents.defaults),W(n.events.options,i.pointerEvents||{})}}},gr=fr,vr={id:"pointer-events",install:function(t){t.usePlugin(ur),t.usePlugin(pr),t.usePlugin(gr)}},mr=vr,yr={id:"reflow",install:function(t){var e=t.Interactable;t.actions.phases.reflow=!0,e.prototype.reflow=function(n){return function(i,r,s){for(var c=i.getAllElements(),u=s.window.Promise,p=u?[]:null,m=function(){var x=c[f],E=i.getRect(x);if(!E)return 1;var M,S=Qe(s.interactions.list,function($){return $.interacting()&&$.interactable===i&&$.element===x&&$.prepared.name===r.name});if(S)S.move(),p&&(M=S._reflowPromise||new u(function($){S._reflowResolve=$}));else{var k=$e(E),R=function($){return{coords:$,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}}({page:{x:k.x,y:k.y},client:{x:k.x,y:k.y},timeStamp:s.now()});M=function($,U,K,re,Q){var te=$.interactions.new({pointerType:"reflow"}),ge={interaction:te,event:Q,pointer:Q,eventTarget:K,phase:"reflow"};te.interactable=U,te.element=K,te.prevEvent=Q,te.updatePointer(Q,Q,K,!0),on(te.coords.delta),Vt(te.prepared,re),te._doPhase(ge);var ce=$.window,ye=ce.Promise,we=ye?new ye(function(Me){te._reflowResolve=Me}):void 0;return te._reflowPromise=we,te.start(re,U,K),te._interacting?(te.move(ge),te.end(Q)):(te.stop(),te._reflowResolve()),te.removePointer(Q,Q),we}(s,i,x,r,R)}p&&p.push(M)},f=0;f<c.length&&!m();f++);return p&&u.all(p).then(function(){return i})}(this,n,t)}},listeners:{"interactions:stop":function(t,e){var n=t.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),function(i,r){i.splice(i.indexOf(r),1)}(e.interactions.list,n))}}},br=yr;if(fe.use(On),fe.use(An),fe.use(mr),fe.use(Li),fe.use(lr),fe.use(Di),fe.use(pi),fe.use(gi),fe.use(br),fe.default=fe,h(d)==="object"&&d)try{d.exports=fe}catch{}return fe.default=fe,fe})})(wt,wt.exports);var zr=wt.exports;const ri=xr(zr),xt={x:0,y:0};ri(".draggable").draggable({listeners:{start(d){console.log(d.type,d.target)},move(d){xt.x+=d.dx,xt.y+=d.dy,d.target.style.transform=`translate(${xt.x}px, ${xt.y}px)`}}});ri(".resizable").resizable({edges:{top:!0,left:!0,bottom:!0,right:!0},listeners:{move:function(d){let{x:o,y:a}=d.target.dataset;o=(parseFloat(o)||0)+d.deltaRect.left,a=(parseFloat(a)||0)+d.deltaRect.top,Object.assign(d.target.style,{width:`${d.rect.width}px`,height:`${d.rect.height}px`,transform:`translate(${o}px, ${a}px)`}),Object.assign(d.target.dataset,{x:o,y:a})}}});let je,We=[];const oi=["EdgeId","From","To","With Direction","Feature Id"];let tn,si;function Hr(d,o,a){const l=[];let h;d.forEach(function(b){h=[b.get("EDGE_ID"),b.get("FROM_M"),b.get("TO_M"),b.get("WITH_DIRECTION"),b.getId()],l.push(h)});let v=0;l.forEach(function(b){v+=b[2]-b[1]}),console.log("Total length: "+v),je.data.data=[],je.insert({headings:oi,data:l}),tn=o,si=a;const g=document.getElementById("mydiv");g.style.visibility="visible"}function jr(){return je=new $r("#myTable",{searchable:!1,sortable:!1,paging:!1,rowNavigation:!1,rowRender:(d,o,a)=>{if(We.includes(a))return o.attributes||(o.attributes={}),o.attributes.class?o.attributes.class+=" selected":o.attributes.class="selected",o},data:{headings:oi}}),je.on("datatable.selectrow",function(d,o){if(isNaN(d))return;We.includes(d)?We=We.filter(h=>h!==d):(We.pop(),We.push(d)),tn.getFeatures().clear();const a=je.data.data[d][4].text,l=si.getSource().getFeatureById(a);tn.getFeatures().push(l),je.update()}),je}export{jr as c,Hr as u};
//# sourceMappingURL=table-29786adc.js.map
